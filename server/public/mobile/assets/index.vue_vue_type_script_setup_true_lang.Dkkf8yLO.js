import{y as e,X as t,x as a,z as o,d as s,n as l,g as i,c as n,l as r,k as u,a as d,h as c,G as p,E as m,F as y,p as g,m as f,t as h,s as v,Y as x,A as w,r as b,Z as S,$,w as _,B as k,a0 as C,a1 as z,j as I,a2 as N,a3 as P,D as j,a4 as T,a5 as B,M,a6 as V,a7 as H,a8 as D,C as A,e as K,f as L,v as F,_ as Y,a9 as E,aa as Z}from"./index-CbP45Wwt.js";import{d as G}from"./index.D9GroqTO.js";const W=v(s({__name:"wd-swiper-nav",props:{...o,current:t(0),direction:e("horizontal"),minShowNum:t(2),indicatorPosition:e("bottom"),showControls:a(!1),total:t(0),type:e("dots")},emits:["change"],setup(e,{emit:t}){const a=t;function o(e){a("change",{dir:e,source:"nav"})}return(e,t)=>{const a=u;return i(),l(y,null,[e.showControls?(i(),n(a,{key:0,class:"wd-swiper-nav__btn"},{default:d(()=>[c(a,{class:"wd-swiper-nav__btn--prev",onClick:t[0]||(t[0]=e=>o("prev"))}),c(a,{class:"wd-swiper-nav__btn--next",onClick:t[1]||(t[1]=e=>o("next"))})]),_:1})):r("",!0),e.total>=e.minShowNum?(i(),n(a,{key:1,style:m(e.customStyle),class:p(`wd-swiper-nav wd-swiper-nav--${e.direction} wd-swiper-nav--${e.type} wd-swiper-nav--${e.indicatorPosition} ${e.customClass}`)},{default:d(()=>["dots"===e.type||"dots-bar"===e.type?(i(!0),l(y,{key:0},g(e.total,(t,o)=>(i(),n(a,{key:o,class:p(`wd-swiper-nav__item--${e.type} ${e.current===o?"is-active":""} is-${e.direction}`)},null,8,["class"]))),128)):r("",!0),"fraction"===e.type?(i(),l(y,{key:1},[f(h(e.current+1)+"/"+h(e.total),1)],64)):r("",!0)]),_:1},8,["style","class"])):r("",!0)],64)}}}),[["__scopeId","data-v-30cb510a"]]),X=v(s({name:"wd-swiper",options:{addGlobalClass:!0,virtualHost:!0,styleIsolation:"shared"},props:{...o,autoplay:a(!0),current:t(0),direction:e("horizontal"),displayMultipleItems:t(1),duration:t(300),easingFunction:e("default"),height:x("192"),interval:t(5e3),list:{type:Array,default:()=>[]},loop:a(!0),videoLoop:a(!0),muted:a(!0),nextMargin:x("0"),indicatorPosition:e("bottom"),previousMargin:x("0"),snapToEdge:a(!1),indicator:{type:[Boolean,Object],default:!0},imageMode:e("aspectFill"),valueKey:e("value"),textKey:e("text"),autoplayVideo:a(!0),stopPreviousVideo:a(!0),stopAutoplayWhenVideoPlay:a(!1),adjustHeight:e("highest"),adjustVerticalHeight:a(!1),customIndicatorClass:e(""),customImageClass:e(""),customPrevImageClass:e(""),customNextImageClass:e(""),customItemClass:e(""),customPrevClass:e(""),customNextClass:e(""),customTextClass:e(""),customTextStyle:e("")},emits:["click","change","animationfinish","update:current"],setup(e,{emit:t}){const a=w(),o=e,s=t,v=b(o.current),x=b(o.current),A=(e,t=!1)=>{x.value=e,t&&(v.value=e),s("update:current",e)},K=b(!1),{proxy:L}=S(),F=b($());_(()=>o.current,e=>{e<0?o.loop?O():X():e>=o.list.length?o.loop?X():O():G(e)});const Y=k(()=>"wd-swiper__item "+(a.default?"wd-swiper__item--slot":"")),E=k(()=>{const{list:e,direction:t,indicatorPosition:a,indicator:s}=o,l={current:x.value||0,total:e.length||0,direction:t||"horizontal",indicatorPosition:a||"bottom"};return C(s)&&(l.type=s.type||"dots",l.minShowNum=s.minShowNum||2,l.showControls=s.showControls||!1),l}),Z=e=>((e,t)=>{const a=e=>D(e);return C(e)?e.type&&["video","image"].includes(e.type)?e.type===t:a(e[o.valueKey]):a(e)})(e,"video");function G(e){e!==x.value&&A(e,!0)}function X(){G(0)}function O(){G(o.list.length-1)}function R(){o.stopAutoplayWhenVideoPlay&&(K.value=!0)}function q(){K.value=!1}function J(e,t,a){let s="";return function(e,t,a){return(e-1+a.length)%a.length===t}(e,t,a)&&(s=o.customPrevClass||o.customPrevImageClass),function(e,t,a){return(e+1+a.length)%a.length===t}(e,t,a)&&(s=o.customNextClass||o.customNextImageClass),s}function Q(e){const{current:t,source:a}=e.detail,l=x.value;if(s("change",{current:t,source:a}),t!==x.value){A(t,"autoplay"===a||"touch"===a)}!function(e,t){(function(e){if(o.stopPreviousVideo){const t=o.list[e];if(V(t)&&Z(t)){H(`video-${e}-${F.value}`,L).pause()}}else o.stopAutoplayWhenVideoPlay&&q()})(e),function(e){if(o.autoplayVideo){const t=o.list[e];if(V(t)&&Z(t)){H(`video-${e}-${F.value}`,L).play()}}}(t)}(l,t)}function U(e){const{current:t,source:a}=e.detail;if(t!==x.value){A(t,"autoplay"===a||"touch"===a)}s("animationfinish",{current:t,source:a})}function ee(e,t){s("click",{index:e,item:t})}function te({dir:e}){const{list:t,loop:a}=o,s=t.length;let l="next"===e?x.value+1:x.value-1;l=a?"next"===e?(x.value+1)%s:(x.value-1+s)%s:l<0||l>=s?x.value:l,l!==x.value&&G(l)}return(e,t)=>{const a=T,o=B,s=M,w=P,b=z,S=u;return i(),n(S,{class:p(`wd-swiper ${e.customClass}`),style:m(e.customStyle)},{default:d(()=>[c(b,{"adjust-height":e.adjustHeight,"adjust-vertical-height":e.adjustVerticalHeight,class:"wd-swiper__track",autoplay:e.autoplay&&!K.value,current:v.value,interval:e.interval,duration:e.duration,circular:e.loop,vertical:"vertical"==e.direction,"easing-function":e.easingFunction,"previous-margin":I(N)(e.previousMargin),"next-margin":I(N)(e.nextMargin),"snap-to-edge":e.snapToEdge,"display-multiple-items":e.displayMultipleItems,style:m({height:I(N)(e.height)}),onChange:Q,onAnimationfinish:U},{default:d(()=>[(i(!0),l(y,null,g(e.list,(t,l)=>(i(),n(w,{key:l,class:p(Y.value)},{default:d(()=>[j(e.$slots,"default",{item:t,index:l},()=>[Z(t)?(i(),n(a,{key:0,id:`video-${l}-${F.value}`,style:m({height:I(N)(e.height)}),src:I(C)(t)?t[e.valueKey]:t,poster:I(C)(t)?t.poster:"",class:p(`wd-swiper__video ${e.customItemClass} ${J(x.value,l,e.list)}`),onPlay:R,onPause:q,"enable-progress-gesture":!1,loop:e.videoLoop,muted:e.muted,autoplay:e.autoplayVideo,objectFit:"cover",onClick:e=>ee(l,t)},null,8,["id","style","src","poster","class","loop","muted","autoplay","onClick"])):(i(),n(o,{key:1,src:I(C)(t)?t[e.valueKey]:t,class:p(`wd-swiper__image ${e.customImageClass} ${e.customItemClass} ${J(x.value,l,e.list)}`),style:m({height:I(N)(e.height)}),mode:e.imageMode,onClick:e=>ee(l,t)},null,8,["src","class","style","mode","onClick"])),I(C)(t)&&t[e.textKey]?(i(),n(s,{key:2,class:p(`wd-swiper__text ${e.customTextClass}`),style:m(e.customTextStyle)},{default:d(()=>[f(h(t[e.textKey]),1)]),_:2},1032,["class","style"])):r("",!0)],!0)]),_:2},1032,["class"]))),128))]),_:3},8,["adjust-height","adjust-vertical-height","autoplay","current","interval","duration","circular","vertical","easing-function","previous-margin","next-margin","snap-to-edge","display-multiple-items","style"]),e.indicator?(i(),l(y,{key:0},[j(e.$slots,"indicator",{current:x.value,total:e.list.length},void 0,!0),e.$slots.indicator?r("",!0):(i(),n(W,{key:0,"custom-class":e.customIndicatorClass,type:E.value.type,current:E.value.current,total:E.value.total,direction:E.value.direction,"indicator-position":E.value.indicatorPosition,"min-show-num":E.value.minShowNum,"show-controls":E.value.showControls,onChange:te},null,8,["custom-class","type","current","total","direction","indicator-position","min-show-num","show-controls"]))],64)):r("",!0)]),_:3},8,["class","style"])}}}),[["__scopeId","data-v-580bfab2"]]),O=v(s({name:"wd-text",options:{virtualHost:!0,addGlobalClass:!0,styleIsolation:"shared"},props:{...o,type:e("default"),text:x(""),size:e(""),mode:e("text"),decoration:e("none"),call:a(!1),bold:a(!1),format:a(!1),color:e(""),prefix:String,suffix:String,lines:Number,lineHeight:e(""),customStyle:e(""),customClass:e("")},emits:["click"],setup(e,{emit:t}){const a=e,o=t,s=b("");_(()=>({type:a.type,text:a.text,mode:a.mode,color:a.color,bold:a.bold,lines:a.lines,format:a.format}),({type:e})=>{const t=["primary","error","warning","success","default"];e&&!t.includes(e)&&console.error(`type must be one of ${t.toString()}`),function(){const{type:e,color:t,bold:o,lines:l}=a,i=[];t||i.push(`is-${e}`);V(l)&&i.push(`is-lines-${l}`);o&&i.push("is-bold"),s.value=i.join(" ")}()},{deep:!0,immediate:!0});const l=k(()=>`wd-text ${a.customClass} ${s.value}`),u=k(()=>{const e={};return a.color&&(e.color=a.color),a.size&&(e["font-size"]=`${a.size}`),a.lineHeight&&(e["line-height"]=`${a.lineHeight}`),a.decoration&&(e["text-decoration"]=`${a.decoration}`),`${A(e)}${a.customStyle}`});const y=k(()=>{const{text:e,mode:t,format:o}=a;return"date"===t?G(Number(e)).format("YYYY-MM-DD"):"price"===t?function(e){const t=(e=Number(e).toFixed(2)).split(".");let a=t[0];const o=t.length>1?"."+t[1]:"",s=/(\d+)(\d{3})/;for(;s.test(a);)a=a.replace(s,"$1,$2");return a+o}(e):function(e,t,a){if(t){if("phone"===a)return e.replace(/^(\d{3})\d{4}(\d{4})$/,"$1****$2");if("name"===a)return e.replace(/^(.).*(.)$/,"$1**$2");throw new Error("mode must be one of phone or name for encryption")}return e}(`${e}`,o,t)});function g(e){o("click",e)}return(e,t)=>{const a=M;return i(),n(a,{onClick:g,class:p(l.value),style:m(u.value)},{default:d(()=>[e.$slots.prefix||e.prefix?j(e.$slots,"prefix",{key:0},()=>[f(h(e.prefix),1)],!0):r("",!0),c(a,null,{default:d(()=>[f(h(y.value),1)]),_:1}),e.$slots.suffix||e.suffix?j(e.$slots,"suffix",{key:1},()=>[f(h(e.suffix),1)],!0):r("",!0)]),_:3},8,["class","style"])}}}),[["__scopeId","data-v-eb4c7257"]]),R=s({__name:"index",props:{list:{type:Array,default:()=>[]},mode:{type:String,default:()=>"row"},grid:{type:Number,default:()=>4},rounded:{type:String,default:"24rpx"},marginX:{type:String,default:()=>"24rpx"},marginT:{type:String,default:()=>"24rpx"},marginB:{type:String,default:()=>"0"},title:{type:String,default:()=>null},titleSize:{type:String,default:()=>"32rpx"},titleLine:{type:Boolean,default:()=>!1},moreShow:{type:Boolean,default:()=>!1},moreName:{type:String,default:()=>""},moreNameSize:{type:String,default:()=>"26rpx"},moreIconSize:{type:String,default:()=>"32rpx"},textSize:{type:String,default:()=>null},imageSize:{type:String,default:()=>null},arrowIcon:{type:String,default:()=>"arrow-right"},arrowSize:{type:String,default:()=>"32rpx"},isDot:{type:Boolean,default:()=>!1},badgeShow:{type:Boolean,default:()=>!0},badgeTop:{type:Number,default:()=>null},badgeLeft:{type:Number,default:()=>null},badgeBg:{type:String,default:()=>""},badgeZero:{type:Boolean,default:()=>!1},badgeType:{type:String,default:()=>"danger"}},setup(e){const t=e,a=k(()=>100/t.grid+"%"),o=k(()=>({margin:`0 ${t.marginX}`,marginTop:t.marginT,marginBottom:t.marginB,borderRadius:t.rounded}));return(s,v)=>{const x=u,w=M,b=K(L("wd-icon"),F),S=K(L("wd-img"),Y),$=K(L("wd-text"),O),_=K(L("wd-badge"),E),k=Z;return i(),n(x,{class:"bg-overlay",style:m(I(o))},{default:d(()=>[e.title||e.moreShow?(i(),n(x,{key:0,class:p(["flex items-center justify-between p-3 pb-1",{"pb-3 border-b border-br-thinned":t.titleLine}])},{default:d(()=>[e.title?(i(),n(x,{key:0,class:"font-semibold text-tx-primary",style:m({fontSize:e.titleSize})},{default:d(()=>[f(h(e.title),1)]),_:1},8,["style"])):r("",!0),e.moreShow?(i(),n(x,{key:1,class:"flex items-center text-thinned"},{default:d(()=>[e.moreName?(i(),n(w,{key:0,style:m({fontSize:e.moreNameSize})},{default:d(()=>[f(h(e.moreName),1)]),_:1},8,["style"])):r("",!0),e.moreIconSize?(i(),n(b,{key:1,name:"arrow-right",size:e.moreIconSize},null,8,["size"])):r("",!0)]),_:1})):r("",!0)]),_:1},8,["class"])):r("",!0),"row"===e.mode?(i(),n(x,{key:1,class:"flex flex-wrap gap-y-5 py-3.5"},{default:d(()=>[(i(!0),l(y,null,g(e.list,(t,o)=>(i(),n(k,{key:o,"hover-class":"none",class:"relative flex flex-col justify-center items-center gap-1.5",style:m({width:I(a)}),onClick:e=>s.$go(t.link)},{default:d(()=>[c(S,{width:e.imageSize||"60rpx",height:e.imageSize||"60rpx",src:t.image},null,8,["width","height","src"]),c($,{text:t.name,size:e.textSize||"26rpx","line-height":"normal",class:"align-middle"},null,8,["text","size"]),e.badgeShow?(i(),n(x,{key:0,class:"absolute",style:m({top:`${e.badgeTop||-18}rpx`,left:`${e.badgeLeft||110}rpx`})},{default:d(()=>[c(_,{hidden:e.isDot&&!t.value,"model-value":parseInt(String(t.value||"0")),max:99,type:e.badgeType,"is-dot":e.isDot,"show-zero":e.badgeZero,"bg-color":e.badgeBg},null,8,["hidden","model-value","type","is-dot","show-zero","bg-color"])]),_:2},1032,["style"])):r("",!0)]),_:2},1032,["style","onClick"]))),128))]),_:1})):"col"===e.mode?(i(),n(x,{key:2},{default:d(()=>[(i(!0),l(y,null,g(e.list,(t,a)=>(i(),n(k,{key:a,class:"flex items-center gap-2 p-3 border-b last:border-b-0 border-br-thinned","hover-class":"none",onClick:e=>s.$go(t.link)},{default:d(()=>[c(x,{class:"relative flex-1 flex items-center gap-2"},{default:d(()=>[c(S,{width:e.imageSize||"48rpx",height:e.imageSize||"48rpx",src:t.image},null,8,["width","height","src"]),c($,{text:t.name,size:e.textSize||"28rpx","line-height":"normal",class:"flex-1 text-left align-middle"},null,8,["text","size"]),e.badgeShow?(i(),n(x,{key:0,class:"absolute",style:m({top:`${e.badgeTop||-18}rpx`,left:`${e.badgeLeft||10}rpx`})},{default:d(()=>[c(_,{hidden:e.isDot&&!t.value,"model-value":parseInt(String(t.value||"0")),max:99,type:e.badgeType,"is-dot":e.isDot,"show-zero":e.badgeZero,"bg-color":e.badgeBg},null,8,["hidden","model-value","type","is-dot","show-zero","bg-color"])]),_:2},1032,["style"])):r("",!0)]),_:2},1024),c(x,{class:"text-tx-placeholder"},{default:d(()=>[c(b,{name:e.arrowIcon,size:e.arrowSize},null,8,["name","size"])]),_:1})]),_:2},1032,["onClick"]))),128))]),_:1})):r("",!0)]),_:1},8,["style"])}}});export{X as _,R as a};
