import{r as e,x as t,W as i,v as a,ac as o,X as s,y as l,d as r,Y as n,ad as h,A as d,a5 as c,B as u,w as g,c as p,g as f,a as m,l as y,k as T,D as S,E as w,C as b,ae as R,af as x,q as C,a1 as v,Z as M,ag as I,ah as A,h as L,ai as k,j as D,I as V,aj as z,ak as N,al as P,am as B,an as _,ao as E,ap as F,e as H,f as W,a8 as Z,n as O,F as j,p as U,aq as G,ar as Y,L as Q,m as J,t as K,s as X,as as $,at as q,au as ee,av as te,aw as ie,ax as ae,a4 as oe,ay as se,az as le,aA as re,aB as ne,aC as he,aD as de,aE as ce,aF as ue,aG as ge,aH as pe,aI as fe,b as me,_ as ye,K as Te,aJ as Se,o as we,a0 as be,a2 as Re}from"./index-4glTkX_N.js";import{u as xe}from"./useTranslate.By_X5Fzm.js";import{a as Ce}from"./index.BiiJEWWN.js";import"./index.mNFG9pMF.js";const ve=Symbol("wd-tabs"),Me={...l,modelValue:s(0),slidableNum:i(6),mapNum:i(10),mapTitle:String,sticky:a(!1),offsetTop:i(0),swipeable:a(!1),autoLineWidth:a(!1),lineWidth:o,lineHeight:o,color:t(""),inactiveColor:t(""),animated:a(!1),duration:i(300),slidable:t("auto")},Ie=C(r({name:"wd-tab",options:{addGlobalClass:!0,virtualHost:!0,styleIsolation:"shared"},props:{...l,name:o,title:String,disabled:a(!1),lazy:a(!0),badgeProps:Object},setup(t){const i=t,{proxy:a}=n(),{parent:o,index:s}=h(ve),l=d(()=>!!c(o)&&o.state.activeIndex===s.value),r=e(l.value),C=d(()=>{const e={};return l.value||c(o)&&o.props.animated||(e.display="none"),u(e)}),v=d(()=>!i.lazy||r.value||l.value);return g(l,e=>{e&&(r.value=!0)}),g(()=>i.name,e=>{!c(e)||R(e)||x(e)?o&&function(e){const{name:t}=i;if(null==t||""===t)return;o&&o.children.forEach(i=>{i.$.uid!==e.$.uid&&i.name===t&&console.error(`The tab's bound value: ${t} has been used`)})}(a):console.error("[wot ui] error(wd-tab): the type of name should be number or string")},{deep:!0,immediate:!0}),(e,t)=>{const i=T;return f(),p(i,{class:w(`wd-tab ${e.customClass}`),style:S(e.customStyle)},{default:m(()=>[v.value?(f(),p(i,{key:0,class:w(["wd-tab__body",{"wd-tab__body--inactive":!l.value}]),style:S(C.value)},{default:m(()=>[b(e.$slots,"default",{},void 0,!0)]),_:3},8,["class","style"])):y("",!0)]),_:3},8,["class","style"])}}}),[["__scopeId","data-v-79c06c35"]]),Ae=C(r({name:"wd-resize",options:{virtualHost:!0,addGlobalClass:!0,styleIsolation:"shared"},props:{...l,customContainerClass:t("")},emits:["resize"],setup(t,{emit:i}){const a=t,o=i,s=e(0),l=e(0),r=e(0),h=e(0),c=e(0),g=e(0),y=e(0),R=d(()=>{const e={width:v(g.value),height:v(c.value)};return`${u(e)}${a.customStyle}`});let x=()=>{};const{proxy:C}=n(),V=e(`resize${M()}`);function z({lastWidth:e,lastHeight:t}){s.value=1e5+t,l.value=3*c.value+t,r.value=1e5+e,h.value=3*g.value+e}return I(()=>{A().in(C).select(`#${V.value}`).boundingClientRect().exec(([e])=>{let t=e.height,i=e.width;c.value=t,g.value=i,x=()=>{A().in(C).select(`#${V.value}`).boundingClientRect().exec(([e])=>{if(0===y.value++){const t={};["bottom","top","left","right","height","width"].forEach(i=>{t[i]=e[i]}),o("resize",t)}if(y.value<3)return;const a=e.height,s=e.width;c.value=a,g.value=s;const l=[];if(a!==t&&(t=a,l.push(1)),s!==i&&(i=s,l.push(1)),0!==l.length){const t={};["bottom","top","left","right","height","width"].forEach(i=>{t[i]=e[i]}),o("resize",t)}z({lastWidth:i,lastHeight:t})})},z({lastWidth:i,lastHeight:t})})}),(e,t)=>{const i=T,a=k;return f(),p(i,{class:w(`wd-resize ${e.customClass}`),style:S(R.value)},{default:m(()=>[L(i,{id:V.value,class:w(`wd-resize__container ${e.customContainerClass}`)},{default:m(()=>[b(e.$slots,"default",{},void 0,!0),L(a,{class:"wd-resize__wrapper","scroll-y":!0,"scroll-top":s.value,"scroll-x":!0,"scroll-left":r.value,onScroll:D(x)},{default:m(()=>[L(i,{class:"wd-resize__wrapper--placeholder",style:{height:"100000px",width:"100000px"}})]),_:1},8,["scroll-top","scroll-left","onScroll"]),L(a,{class:"wd-resize__wrapper","scroll-y":!0,"scroll-top":l.value,"scroll-x":!0,"scroll-left":h.value,onScroll:D(x)},{default:m(()=>[L(i,{class:"wd-resize__wrapper--placeholder",style:{height:"250%",width:"250%"}})]),_:1},8,["scroll-top","scroll-left","onScroll"])]),_:3},8,["id","class"])]),_:3},8,["class","style"])}}}),[["__scopeId","data-v-62bdf40e"]]),Le={...l,zIndex:i(1),offsetTop:i(0)},ke=Symbol("wd-sticky-box"),De=C(r({name:"wd-sticky",options:{addGlobalClass:!0,virtualHost:!0,styleIsolation:"shared"},props:Le,setup(t,{expose:i}){const a=t,o=e(`wd-sticky${M()}`),s=e([]),l=V({position:"absolute",boxLeaved:!1,top:0,height:0,width:0,state:""}),{parent:r}=h(ke),{proxy:c}=n(),g=d(()=>{const e={"z-index":a.zIndex,height:v(l.height),width:v(l.width)};return l.boxLeaved||(e.position="relative"),`${u(e)}${a.customStyle}`}),y=d(()=>{const e={"z-index":a.zIndex,height:v(l.height),width:v(l.width)};return l.boxLeaved||(e.position="relative"),`${u(e)}`}),R=d(()=>{const e={position:l.position,top:v(l.top)};return u(e)}),x=d(()=>{let e=0;return e=44,44+a.offsetTop});async function C(e){l.width=e.width,l.height=e.height,await z(),function(){if(0===l.height&&0===l.width)return;const e=x.value+l.height;(function(){for(;0!==s.value.length;)s.value.pop().disconnect()})(),function(){const e=P(c,{thresholds:[0,.5]});return s.value.push(e),e}().relativeToViewport({top:-e}).observe(`#${o.value}`,e=>{I(e)}),N(`#${o.value}`,!1,c).then(t=>{t.bottom=Number(t.bottom)+44,Number(t.bottom)<=e&&I({boundingClientRect:t})})}(),r&&r.observerForChild&&r.observerForChild(c)}function I({boundingClientRect:e}){if(r&&r.boxStyle&&l.height>=r.boxStyle.height)return l.position="absolute",void(l.top=0);let t=e.top<=x.value;t=e.top<x.value,t?(l.state="sticky",l.boxLeaved=!1,l.position="fixed",l.top=x.value):(l.state="normal",l.boxLeaved=!1,l.position="absolute",l.top=0)}return i({setPosition:function(e,t,i){l.boxLeaved=e,l.position=t,l.top=i},stickyState:l,offsetTop:a.offsetTop}),(e,t)=>{const i=T;return f(),p(i,{style:S(`${g.value};display: inline-block;`)},{default:m(()=>[L(i,{class:w(`wd-sticky ${e.customClass}`),style:S(y.value),id:o.value},{default:m(()=>[L(i,{class:"wd-sticky__container",style:S(R.value)},{default:m(()=>[L(Ae,{onResize:C,"custom-style":"display: inline-block;"},{default:m(()=>[b(e.$slots,"default",{},void 0,!0)]),_:3})]),_:3},8,["style"])]),_:3},8,["class","style","id"])]),_:3},8,["style"])}}}),[["__scopeId","data-v-8d1fe2cc"]]),Ve=C(r({name:"wd-sticky-box",options:{addGlobalClass:!0,styleIsolation:"shared"},props:l,setup(t){const i=t,a=e(`wd-sticky-box${M()}`),o=e(new Map),s=V({height:0,width:0}),{proxy:l}=n(),{children:r,linkChildren:h}=B(ke);function d(e){s.width=e.width,s.height=e.height;const t=o.value;o.value=new Map;for(const[i]of t){c(r.find(e=>e.$.uid===i))}t.forEach(e=>{e.disconnect()}),t.clear()}function c(e){!function(e){const t=o.value.get(e.$.uid);t&&(t.disconnect(),o.value.delete(e.$.uid))}(e);const t=function(e){const t=P(l,{thresholds:[0,.5]});return o.value.set(e.$.uid,t),t}(e),i=e.$.exposed;let r=i.stickyState.height+i.offsetTop;r+=44,s.height<=i.stickyState.height&&i.setPosition(!1,"absolute",0),t.relativeToViewport({top:-r}).observe(`#${a.value}`,e=>{u(i,e)}),N(`#${a.value}`,!1,l).then(e=>{e.bottom=Number(e.bottom)+44,Number(e.bottom)<=r&&u(i,{boundingClientRect:e})}).catch(e=>{console.log(e)})}function u(e,{boundingClientRect:t}){let i=e.offsetTop;i+=44;const a=e.stickyState.height+i;let o=t.bottom<=a;if(o=t.bottom<a,o)e.setPosition(!0,"absolute",t.height-e.stickyState.height);else if(t.top<=a&&!o){if("normal"===e.stickyState.state)return;e.setPosition(!1,"fixed",i)}}return h({boxStyle:s,observerForChild:c}),_(()=>{o.value=new Map}),(e,t)=>{const o=T;return f(),p(o,{style:{position:"relative"}},{default:m(()=>[L(o,{class:w(`wd-sticky-box ${i.customClass}`),style:S(e.customStyle),id:a.value},{default:m(()=>[L(Ae,{onResize:d},{default:m(()=>[b(e.$slots,"default",{},void 0,!0)]),_:3})]),_:3},8,["class","style","id"])]),_:3})}}}),[["__scopeId","data-v-19ffe98b"]]),ze=C(r({name:"wd-tabs",options:{addGlobalClass:!0,virtualHost:!0,styleIsolation:"shared"},props:Me,emits:["change","disabled","click","update:modelValue"],setup(t,{expose:i,emit:a}){const o=".wd-tabs__nav-item",s=t,l=a,{translate:r}=xe("tabs"),h=V({activeIndex:0,lineStyle:"display:none;",useInnerLine:!1,inited:!1,animating:!1,mapShow:!1,scrollLeft:0}),{children:C,linkChildren:M}=B(ve);M({state:h,props:s});const{proxy:A}=n(),z=function(){const t=e(""),i=e(0),a=e(0),o=e(0),s=e(0),l=e(0),r=e(0);return{touchStart:function(e){const n=e.touches[0];t.value="",i.value=0,a.value=0,o.value=0,s.value=0,l.value=n.clientX,r.value=n.clientY},touchMove:function(e){const n=e.touches[0];i.value=n.clientX-l.value,a.value=n.clientY-r.value,o.value=Math.abs(i.value),s.value=Math.abs(a.value),t.value=o.value>s.value?"horizontal":o.value<s.value?"vertical":""},direction:t,deltaX:i,deltaY:a,offsetX:o,offsetY:s,startX:l,startY:r}}(),P=d(()=>"always"===s.slidable||C.length>s.slidableNum),_=d(()=>s.animated?u({left:-100*h.activeIndex+"%","transition-duration":s.duration+"ms","-webkit-transition-duration":s.duration+"ms"}):""),q=(e,t)=>c(e.name)?e.name:t,ee=(e=0,t=!1,i=!0)=>{0!==C.length&&(e=he(e),C[e].disabled||(h.activeIndex=e,i&&(ae(!1===t),oe()),function(){if(!h.inited)return;const e=q(C[h.activeIndex],h.activeIndex);e!==s.modelValue&&(l("change",{index:h.activeIndex,name:e}),l("update:modelValue",e))}()))},te=E(ee,100,{leading:!0});function ie(){h.mapShow?(h.animating=!1,setTimeout(()=>{h.mapShow=!1},300)):(h.mapShow=!0,setTimeout(()=>{h.animating=!0},100))}async function ae(e=!0){if(!h.inited)return;const{autoLineWidth:t,lineWidth:i,lineHeight:a}=s;try{const s={};if(c(i))s.width=v(i);else if(t){const e=await N(".wd-tabs__nav-item-text",!0,A),t=Number(e[h.activeIndex].width);s.width=v(t)}c(a)&&(s.height=v(a),s.borderRadius=`calc(${v(a)} / 2)`);const l=await N(o,!0,A),r=l[h.activeIndex];let n=l.slice(0,h.activeIndex).reduce((e,t)=>e+Number(t.width),0)+Number(r.width)/2;n&&(s.transform=`translateX(${n}px) translateX(-50%)`,e&&(s.transition="width 0.3s cubic-bezier(0.4, 0, 0.2, 1), transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);"),h.useInnerLine=!1,h.lineStyle=u(s))}catch(l){console.error("[wot ui] error(wd-tabs): update line style failed",l)}}function oe(){h.inited&&Promise.all([N(o,!0,A),N(".wd-tabs__nav-container",!1,A)]).then(([e,t])=>{const i=e[h.activeIndex],a=e.slice(0,h.activeIndex).reduce((e,t)=>e+t.width,0)-(t.width-Number(i.width))/2;a===h.scrollLeft?h.scrollLeft=a+Math.random()/1e4:h.scrollLeft=a})}function se(e){if(void 0===e)return;const{disabled:t}=C[e],i=q(C[e],e);t?l("disabled",{index:e,name:i}):(h.mapShow&&ie(),te(e),l("click",{index:e,name:i}))}function le(e){s.swipeable&&z.touchStart(e)}function re(e){s.swipeable&&z.touchMove(e)}function ne(){if(!s.swipeable)return;const{direction:e,deltaX:t,offsetX:i}=z;"horizontal"===e.value&&i.value>=50&&(t.value>0&&0!==h.activeIndex?te(h.activeIndex-1):t.value<0&&h.activeIndex!==C.length-1&&te(h.activeIndex+1))}function he(e){if(R(e)&&e>=C.length&&(console.error("[wot ui] warning(wd-tabs): the type of tabs' value is Number shouldn't be less than its children"),e=0),x(e)){const t=C.findIndex(t=>t.name===e);e=-1===t?0:t}return e}return g(()=>s.modelValue,e=>{R(e)||x(e)||console.error("[wot ui] error(wd-tabs): the type of value should be number or string"),""!==e&&c(e)||console.error("[wot ui] error(wd-tabs): tabs's value cannot be '' null or undefined"),"number"==typeof e&&e<0&&console.error("[wot ui] error(wd-tabs): tabs's value cannot be less than zero")},{immediate:!0,deep:!0}),g(()=>s.modelValue,e=>{const t=he(e);te(e,!1,t!==h.activeIndex)},{immediate:!1,deep:!0}),g(()=>C.length,()=>{h.inited&&F(()=>{te(s.modelValue)})}),g(()=>s.slidableNum,e=>{$(e,"slidableNum")}),g(()=>s.mapNum,e=>{$(e,"mapNum")}),I(()=>{h.inited=!0,F(()=>{ee(s.modelValue,!0),h.useInnerLine=!0})}),i({setActive:te,scrollIntoView:oe,updateLineStyle:ae}),(e,t)=>{const i=Q,a=H(W("wd-badge"),Z),o=T,s=k;return e.sticky?(f(),p(Ve,{key:0},{default:m(()=>[L(o,{class:w(`wd-tabs ${e.customClass} ${P.value?"is-slide":""} ${e.mapNum<D(C).length&&0!==e.mapNum?"is-map":""}`),style:S(e.customStyle)},{default:m(()=>[L(De,{"offset-top":e.offsetTop},{default:m(()=>[L(o,{class:"wd-tabs__nav wd-tabs__nav--sticky"},{default:m(()=>[L(o,{class:"wd-tabs__nav--wrap"},{default:m(()=>[L(s,{"scroll-x":P.value,"scroll-with-animation":"","scroll-left":h.scrollLeft},{default:m(()=>[L(o,{class:"wd-tabs__nav-container"},{default:m(()=>[(f(!0),O(j,null,U(D(C),(t,s)=>(f(),p(o,{onClick:e=>se(s),key:s,class:w(`wd-tabs__nav-item  ${h.activeIndex===s?"is-active":""} ${t.disabled?"is-disabled":""}`),style:S(h.activeIndex===s?e.color?"color:"+e.color:"":e.inactiveColor?"color:"+e.inactiveColor:"")},{default:m(()=>[t.badgeProps?(f(),p(a,G(Y({key:0},t.badgeProps)),{default:m(()=>[L(i,{class:"wd-tabs__nav-item-text"},{default:m(()=>[J(K(t.title),1)]),_:2},1024)]),_:2},1040)):(f(),p(i,{key:1,class:"wd-tabs__nav-item-text"},{default:m(()=>[J(K(t.title),1)]),_:2},1024)),h.activeIndex===s&&h.useInnerLine?(f(),p(o,{key:2,class:"wd-tabs__line wd-tabs__line--inner"})):y("",!0)]),_:2},1032,["onClick","class","style"]))),128)),L(o,{class:"wd-tabs__line",style:S(h.lineStyle)},null,8,["style"])]),_:1})]),_:1},8,["scroll-x","scroll-left"])]),_:1}),e.mapNum<D(C).length&&0!==e.mapNum?(f(),p(o,{key:0,class:"wd-tabs__map"},{default:m(()=>[L(o,{class:w("wd-tabs__map-btn  "+(h.animating?"is-open":"")),onClick:ie},{default:m(()=>[L(o,{class:w("wd-tabs__map-arrow  "+(h.animating?"is-open":""))},{default:m(()=>[L(X,{name:"arrow-down"})]),_:1},8,["class"])]),_:1},8,["class"]),L(o,{class:"wd-tabs__map-header",style:S(`${h.mapShow?"":"display:none;"}  ${h.animating?"opacity:1;":""}`)},{default:m(()=>[J(K(e.mapTitle||D(r)("all")),1)]),_:1},8,["style"]),L(o,{class:w("wd-tabs__map-body  "+(h.animating?"is-open":"")),style:S(h.mapShow?"":"display:none")},{default:m(()=>[(f(!0),O(j,null,U(D(C),(t,i)=>(f(),p(o,{class:"wd-tabs__map-nav-item",key:i,onClick:e=>se(i)},{default:m(()=>[L(o,{class:w(`wd-tabs__map-nav-btn ${h.activeIndex===i?"is-active":""}  ${t.disabled?"is-disabled":""}`),style:S(h.activeIndex===i?e.color?"color:"+e.color+";border-color:"+e.color:"":e.inactiveColor?"color:"+e.inactiveColor:"")},{default:m(()=>[J(K(t.title),1)]),_:2},1032,["class","style"])]),_:2},1032,["onClick"]))),128))]),_:1},8,["class","style"])]),_:1})):y("",!0)]),_:1})]),_:1},8,["offset-top"]),L(o,{class:"wd-tabs__container",onTouchstart:le,onTouchmove:re,onTouchend:ne,onTouchcancel:ne},{default:m(()=>[L(o,{class:w(["wd-tabs__body",e.animated?"is-animated":""]),style:S(_.value)},{default:m(()=>[b(e.$slots,"default",{},void 0,!0)]),_:3},8,["class","style"])]),_:3}),L(o,{class:"wd-tabs__mask",style:S(`${h.mapShow?"":"display:none;"} ${h.animating?"opacity:1;":""}`),onClick:ie},null,8,["style"])]),_:3},8,["class","style"])]),_:3})):(f(),p(o,{key:1,class:w(`wd-tabs ${e.customClass} ${P.value?"is-slide":""} ${e.mapNum<D(C).length&&0!==e.mapNum?"is-map":""}`)},{default:m(()=>[L(o,{class:"wd-tabs__nav"},{default:m(()=>[L(o,{class:"wd-tabs__nav--wrap"},{default:m(()=>[L(s,{"scroll-x":P.value,"scroll-with-animation":"","scroll-left":h.scrollLeft},{default:m(()=>[L(o,{class:"wd-tabs__nav-container"},{default:m(()=>[(f(!0),O(j,null,U(D(C),(t,s)=>(f(),p(o,{onClick:e=>se(s),key:s,class:w(`wd-tabs__nav-item ${h.activeIndex===s?"is-active":""} ${t.disabled?"is-disabled":""}`),style:S(h.activeIndex===s?e.color?"color:"+e.color:"":e.inactiveColor?"color:"+e.inactiveColor:"")},{default:m(()=>[t.badgeProps?(f(),p(a,Y({key:0,"custom-class":"wd-tabs__nav-item-badge"},t.badgeProps),{default:m(()=>[L(i,{class:"wd-tabs__nav-item-text"},{default:m(()=>[J(K(t.title),1)]),_:2},1024)]),_:2},1040)):(f(),p(i,{key:1,class:"wd-tabs__nav-item-text"},{default:m(()=>[J(K(t.title),1)]),_:2},1024)),h.activeIndex===s&&h.useInnerLine?(f(),p(o,{key:2,class:"wd-tabs__line wd-tabs__line--inner"})):y("",!0)]),_:2},1032,["onClick","class","style"]))),128)),L(o,{class:"wd-tabs__line",style:S(h.lineStyle)},null,8,["style"])]),_:1})]),_:1},8,["scroll-x","scroll-left"])]),_:1}),e.mapNum<D(C).length&&0!==e.mapNum?(f(),p(o,{key:0,class:"wd-tabs__map"},{default:m(()=>[L(o,{class:"wd-tabs__map-btn",onClick:ie},{default:m(()=>[L(o,{class:w("wd-tabs__map-arrow "+(h.animating?"is-open":""))},{default:m(()=>[L(X,{name:"arrow-down"})]),_:1},8,["class"])]),_:1}),L(o,{class:"wd-tabs__map-header",style:S(`${h.mapShow?"":"display:none;"}  ${h.animating?"opacity:1;":""}`)},{default:m(()=>[J(K(e.mapTitle||D(r)("all")),1)]),_:1},8,["style"]),L(o,{class:w("wd-tabs__map-body "+(h.animating?"is-open":"")),style:S(h.mapShow?"":"display:none")},{default:m(()=>[(f(!0),O(j,null,U(D(C),(e,t)=>(f(),p(o,{class:"wd-tabs__map-nav-item",key:t,onClick:e=>se(t)},{default:m(()=>[L(o,{class:w(`wd-tabs__map-nav-btn ${h.activeIndex===t?"is-active":""}  ${e.disabled?"is-disabled":""}`)},{default:m(()=>[J(K(e.title),1)]),_:2},1032,["class"])]),_:2},1032,["onClick"]))),128))]),_:1},8,["class","style"])]),_:1})):y("",!0)]),_:1}),L(o,{class:"wd-tabs__container",onTouchstart:le,onTouchmove:re,onTouchend:ne,onTouchcancel:ne},{default:m(()=>[L(o,{class:w(["wd-tabs__body",e.animated?"is-animated":""]),style:S(_.value)},{default:m(()=>[b(e.$slots,"default",{},void 0,!0)]),_:3},8,["class","style"])]),_:3}),L(o,{class:"wd-tabs__mask",style:S(`${h.mapShow?"":"display:none;"}  ${h.animating?"opacity:1":""}`),onClick:ie},null,8,["style"])]),_:3},8,["class"]))}}}),[["__scopeId","data-v-c86d9020"]]),Ne={},Pe="2.8.8",Be=100,_e="z-paging-error-emit",Ee="z-paging-complete-emit",Fe="z-paging-cache",He="zp_index",We="zp_unique_index",Ze="Z-PAGING-REFRESHER-TIME-STORAGE-KEY";let Oe=null,je=!1,Ue=null;const Ge={};function Ye(){return ae(Ze)}function Qe(e){return te(e)}function Je(){return(new Date).getTime()}function Ke(e){return 1===(e=e.toString()).length?"0"+e:e}const Xe={gc:function(e,t){return()=>{if(function(){if(je)return;Ne&&Object.keys(Ne).length&&(Oe=Ne);!Oe&&uni.$zp&&(Oe=uni.$zp.config);Oe=Oe?Object.keys(Oe).reduce((e,t)=>(e[function(e){return e.replace(/-([a-z])/g,(e,t)=>t.toUpperCase())}(t)]=Oe[t],e),{}):null,je=!0}(),!Oe)return t;const i=Oe[e];return void 0===i?t:i}},setRefesrherTime:function(e,t){const i=Ye()||{};i[t]=e,ie(Ze,i)},getRefesrherFormatTimeByKey:function(e,t){const i=function(e){const t=Ye();return t&&t[e]?t[e]:null}(e),a=i?function(e,t){const i=new Date(e),a=new Date,o=new Date(e).setHours(0,0,0,0),s=(new Date).setHours(0,0,0,0),l=o-s;let r="";const n=function(e){const t=e.getHours(),i=e.getMinutes();return`${Ke(t)}:${Ke(i)}`}(i);r=0===l?t.today:-864e5===l?t.yesterday:function(e,t=!0){const i=e.getFullYear(),a=e.getMonth()+1,o=e.getDate();return t?`${i}-${Ke(a)}-${Ke(o)}`:`${Ke(a)}-${Ke(o)}`}(i,i.getFullYear()!==a.getFullYear());return`${r} ${n}`}(i,t):t.none;return`${t.title}${a}`},getTouch:function(e){let t=null;if(e.touches&&e.touches.length)t=e.touches[0];else if(e.changedTouches&&e.changedTouches.length)t=e.changedTouches[0];else{if(!e.datail||e.datail=={})return{touchX:0,touchY:0};t=e.datail}return{touchX:t.clientX,touchY:t.clientY}},getTouchFromZPaging:function e(t){if(t&&t.tagName&&"BODY"!==t.tagName&&"UNI-PAGE-BODY"!==t.tagName){const i=t.classList;return i&&i.contains("z-paging-content")?{isFromZp:!0,isPageScroll:i.contains("z-paging-content-page"),isReachedTop:i.contains("z-paging-reached-top"),isUseChatRecordMode:i.contains("z-paging-use-chat-record-mode")}:e(t.parentNode)}return{isFromZp:!1}},getParent:function e(t){return t?t.$refs.paging?t:e(t.$parent):null},convertToPx:function(e){if("[object Number]"===Object.prototype.toString.call(e))return e;let t=!1;return-1!==e.indexOf("rpx")||-1!==e.indexOf("upx")?(e=e.replace("rpx","").replace("upx",""),t=!0):-1!==e.indexOf("px")&&(e=e.replace("px","")),isNaN(e)?0:Number(t?Qe(e):e)},getTime:Je,getInstanceId:function(){const e=[];for(let t=0;t<10;t++)e[t]="0123456789abcdef".substr(Math.floor(16*Math.random()),1);return e.join("")+Je()},consoleErr:function(e){console.error(`[z-paging]${e}`)},delay:function(e,t=Be,i){const a=setTimeout(e,t);return i&&(Ge[i]&&clearTimeout(Ge[i]),Ge[i]=a),a},wait:function(e){return new Promise(t=>{setTimeout(t,e)})},isPromise:function(e){return"[object Promise]"===Object.prototype.toString.call(e)},addUnit:function(e,t){if("[object String]"===Object.prototype.toString.call(e)){let t=e;t=t.replace("rpx","").replace("upx","").replace("px",""),-1===e.indexOf("rpx")&&-1===e.indexOf("upx")&&-1!==e.indexOf("px")&&(t=2*parseFloat(t)),e=t}return"rpx"===t?e+"rpx":e/2+"px"},deepCopy:function e(t){if("object"!=typeof t||null===t)return t;let i=Array.isArray(t)?[]:{};for(let a in t)t.hasOwnProperty(a)&&(i[a]=e(t[a]));return i},rpx2px:Qe,getSystemInfoSync:function(e=!1){if(e&&Ue)return Ue;const{deviceInfo:t,appBaseInfo:i,windowInfo:a}=["DeviceInfo","AppBaseInfo","WindowInfo"].reduce((e,t)=>{const i=`get${t}`;return uni[i]&&q(i)&&(e[t.charAt(0).toLowerCase()+t.slice(1)]=uni[i]()),e},{});return Ue=t&&i&&a?{...t,...i,...a}:ee(),Ue},useBufferedInsert:function(e,t=50){let i=[],a=null,o=[];return function(s,...l){const r="[object Array]"!==Object.prototype.toString.call(s)?[s]:s;i.push(...r),o=l,a||(a=setTimeout(()=>{e(1===i.length?i[0]:i,...o),i=[],a=null},1===i.length?10:t))}}},$e={data:()=>({systemInfo:null,cssSafeAreaInsetBottom:-1,isReadyDestroy:!1}),computed:{windowTop(){if(!this.systemInfo)return 0;return document.getElementsByTagName("uni-page-head").length&&this.systemInfo.windowTop||0},safeAreaBottom(){if(!this.systemInfo)return 0;let e=0;return e=Math.max(this.cssSafeAreaInsetBottom,0),e},isOldWebView(){try{const e=Xe.getSystemInfoSync(!0).system.split(" "),t=e[0],i=parseInt(e[1]);if("iOS"===t&&i<=10||"Android"===t&&i<=6)return!0}catch(e){return!1}return!1},zSlots(){return this.$slots}},beforeDestroy(){this.isReadyDestroy=!0},unmounted(){this.isReadyDestroy=!0},methods:{updateFixedLayout(){this.fixed&&this.$nextTick(()=>{this.systemInfo=Xe.getSystemInfoSync()})},_getNodeClientRect(e,t=!0,i=!1){if(this.isReadyDestroy)return Promise.resolve(!1);let a=t?A().in(!0===t?this:t):A();return i?a.select(e).scrollOffset():a.select(e).boundingClientRect(),new Promise((e,t)=>{a.exec(t=>{e(!(!t||""==t||null==t||!t.length)&&t)})})},_updateLeftAndRightWidth(e,t){this.$nextTick(()=>{setTimeout(()=>{["left","right"].map(i=>{this._getNodeClientRect(`.${t}-${i}`).then(t=>{this.$set(e,i,t?t[0].width+"px":"0px")})})},0)})},_getCssSafeAreaInsetBottom(e){this._getNodeClientRect(".zp-safe-area-inset-bottom").then(t=>{this.cssSafeAreaInsetBottom=t?t[0].height:-1,t&&e&&e()})},_getSystemInfoSync:(e=!1)=>Xe.getSystemInfoSync(e)}};const qe=C({name:"z-paging-swiper",mixins:[$e],data:()=>({swiperContentStyle:{}}),props:{fixed:{type:Boolean,default:!0},safeAreaInsetBottom:{type:Boolean,default:!1},swiperStyle:{type:Object,default:function(){return{}}}},mounted(){this.$nextTick(()=>{this.systemInfo=this._getSystemInfoSync(),setTimeout(this.updateFixedLayout,100)}),this._getCssSafeAreaInsetBottom(),this.updateLeftAndRightWidth(),this.swiperContentStyle={flex:"1"},this.swiperContentStyle={width:"100%",height:"100%"}},computed:{finalSwiperStyle(){const e={...this.swiperStyle};if(!this.systemInfo)return e;const t=this.windowTop,i=this.systemInfo.windowBottom;if(this.fixed&&(t&&!e.top&&(e.top=t+"px"),!e.bottom)){let t=i||0;t+=this.safeAreaInsetBottom?this.safeAreaBottom:0,t>0&&(e.bottom=t+"px")}return e}},methods:{updateLeftAndRightWidth(){this.isOldWebView&&this.$nextTick(()=>this._updateLeftAndRightWidth(this.swiperContentStyle,"zp-swiper"))}}},[["render",function(e,t,i,a,o,s){const l=T;return f(),p(l,{class:w(i.fixed?"zp-swiper-container zp-swiper-container-fixed":"zp-swiper-container"),style:S([s.finalSwiperStyle])},{default:m(()=>[-1===e.cssSafeAreaInsetBottom?(f(),p(l,{key:0,class:"zp-safe-area-inset-bottom"})):y("",!0),e.zSlots.top?b(e.$slots,"top",{key:1},void 0,!0):y("",!0),L(l,{class:"zp-swiper-super"},{default:m(()=>[e.zSlots.left?(f(),p(l,{key:0,class:w({"zp-swiper-left":!0,"zp-absoulte":e.isOldWebView})},{default:m(()=>[b(e.$slots,"left",{},void 0,!0)]),_:3},8,["class"])):y("",!0),L(l,{class:w({"zp-swiper":!0,"zp-absoulte":e.isOldWebView}),style:S([o.swiperContentStyle])},{default:m(()=>[b(e.$slots,"default",{},void 0,!0)]),_:3},8,["class","style"]),e.zSlots.right?(f(),p(l,{key:1,class:w({"zp-swiper-right":!0,"zp-absoulte zp-right":e.isOldWebView})},{default:m(()=>[b(e.$slots,"right",{},void 0,!0)]),_:3},8,["class"])):y("",!0)]),_:3}),e.zSlots.bottom?b(e.$slots,"bottom",{key:2},void 0,!0):y("",!0)]),_:3},8,["class","style"])}],["__scopeId","data-v-98fdf710"]]),et="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkBAMAAACCzIhnAAAAD1BMVEVHcExRUVFMTExRUVFRUVE9CdWsAAAABHRSTlMAjjrY9ZnUjwAAAQFJREFUWMPt2MsNgzAMgGEEE1B1gKJmAIRYoCH7z9RCXrabh33iYktcIv35EEg5ZBh07pvxJU6MFSPOSRnjnBUjUsaciRUjMsb4xIoRCWNiYsUInzE5sWKEyxiYWDbyefqHx1zIeiYTk7mQYziTYecxHvEJjwmIT3hMQELCYSISEg4TkZj0mYTEpM8kJCU9JiMp6TEZyUmbAUhO2gxAQNJiIAKSFgMRmNQZhMCkziAEJTUGIyipMRjBSZkhCE7KDEFIUmTeGCHJxWz0zXaE0GTCG8ZFtEaS347r/1fe11YyHYVfubxayfjoHmc0YYwmmmiiiSaaaKLJ7ckyz5ve+dw3Xw2emdwm9xSbAAAAAElFTkSuQmCC",tt="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkBAMAAACCzIhnAAAAElBMVEVHcEz///////////////////+IGTx/AAAABnRSTlMA/dAkXZOhASU/AAABYElEQVRYw+2YwXLCIBCGsdAHWGbyAKZ4zxi9O017rxLf/1UaWFAgA1m8dcpedNSPf/l/Vh0Ya/Wn6hN0JcGvoCqRM4C8VBFiDwBqqNuJKV0rAnCgy3AUqZE57x0iqTL8Br4U3WBf/YWaIlTKfAcELU/h9w72CSVPa3C3OCDvhpHbRp/s2vq4fHhCeiCl2A3m4Qd71DQR257mFBlMcTlbFnFWzNtHxewYEfSiaLS4el8d8nyhmKJd1CF4eOS0keLMAuSxubLBIeIGQW8YHCFFo7EH9+YDcQt9FMZEswTheaNxTHwHT8SZorJjMrEVwo4Zo0U8HSEyZvJMOg4RjnmmRr8nDYeIz3OMkbfE/QhBo+U9RnZJxjGCRh/WKmHEMWLNkfPKsGh/CWJk1JjG0kcuJggTt34VDP8aWAFhp4nybVb5+9qQhjSkIQ1pSEMa8k+Q5U9rV3dF8MpFBK+/7miVq1/HZ2qmo9D+pAAAAABJRU5ErkJggg==",it="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkBAMAAACCzIhnAAAAKlBMVEVHcEzDw8Ovr6+pqamUlJTCwsKenp61tbWxsbGysrLNzc2bm5u5ubmjo6MpovhuAAAACnRSTlMA/P79/sHDhiZS0DxZowAABBBJREFUWMPtl89rE0EUx7ctTXatB3MI1SWnDbUKPUgXqh4ED8Uf7KUVSm3ooVSpSii0Fn/gD4j4o+APiEoVmos9FO2celiqZVgwgaKHPQiCCkv+F99kM7Ozm5kxq1dfD91k9pPve9/3ZjbRNHHok/mKli4eIPNgSuRObuN9SqSEzM20iGnm0yIbqCuV7NSSSIV7uyPM6JMBYdeTOanh/QihJYZsUCSby+VkMj2AvOt0rAeQAwqE3lfKMZVlQCZk1QOCKkkVPadITCfIRNKxfoJI5+0OIFtJx14CMSg1mRSDko7VAfksRQzEbGYqxOJcVTWMCH2I1/IACNW0PWU2M8cmAVHtnH5mM1VRWtwKZjOd5JbF6s1IbaYqaotjNlPHgDAnlAizubTR6ovMYn052g/U5qcmOpi0WL8xTS/3IfSet5m8MEr5ajjF5le6dq/OJpobrdY0t3i9QgefWrxW9/1BLhk0E9m8FeUMhhXal499iD0eQRfDF+ts/tttORRerfp+oV7f4xJj82iUYm1Yzod+ZQEAlS/8mMBwKebVmCVp1f0JLS6zKd17+iwRKTARVg2SHtz3iEbBH+Q+U28zW2Jiza8Tjb1YFoYZMsJyjDqp3M9XBQdSdPLFdxEpvOB37JrHcmR/y9+LgoTlCFGZEa2sc6d4PGlweEa2JSVPoVm+IfGG3ZL037iV9oH+P+Jxc4HGVflNq1M0pivao/EopO4b/ojVCP9GjmiXOeS0DOn1o/iiccT4ORnyvBGF3yUywkQajW4Ti0SGuiy/wVSg/L8w+X/8Q+hvUx8Xd90z4oV5a1i88MbFWHz0WZZ1UrTwBGPX3Rat9AFiXRMRjoMdIdJLEOt2h7jrYOzgOamKZSWSNspOS0X8SAqRYmxRL7sg4eLzYmNehcxh3uoyud/BH2Udux4ywxFTc1xC7Mgf4vMhc5S+kSH3Y7yj+qpwIWSoPTVCOOPVthGx9FbGqrwFw6wSFxJr+17zeKcztt3u+2roAEVgUjDd+AHGuxHy2rZHaa8JMkTHEeyi85ANPO9j9BVuBRD2FY5LDMo/Sz/2hReqGIs/KiFin+CsPsYO/yvM3jL2vE8EbX7/Bf8ejtr2GLN65bioAdgLd8Bis/mD5GmP2qeqyo2ZwQEOtAjRIDH7mBKpUcMoApbZJ5UIxkEwxyMZyMxW/uKFvHCFR3SSmerHyDNQ2dF4JG6zIMpBgLfjSF9x1D6smFcYnGApjmSLICO3ecCDWrQ48geba9DI3STy2i7ax6WIB62fSyIZIiO3GFQqSURp8wCo7GhJBGwuSovJBNjb7kT6FPVnIa9qJ2Ko+l9mefGIdinaMp0yC1URYiwsdfNE45EuA5Cx9EhalfvN5s+UyItm81vaB3p4joniN+SCP7Qc1hblAAAAAElFTkSuQmCC",at="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkBAMAAACCzIhnAAAAElBMVEX///9HcEz///////////////84chYNAAAABnRSTlP/AGzCOYZj5g1nAAACfklEQVRYw+2YTVPDIBCGtza9Jw25a0bvcax30o73OOr//yvma2F3YWlpPTijXNpAHrK8LLALVPFium2vNIFSbwGKTGQA2GUiHcD29yDNy3sMIdUBQl7r2H8mOEVqAHgPkYZUS6Qc2zYhQqtjyDZEximCZwWZLIBeIgYShs2NzxKpSUehYpMJhURGb+O+w5BpMCAREKPnCDHbIY20SzhM5yxziAXpOiBXydrekT9i5XDEq4NIIHHgyU5mRGqviII4mREJJA4QJzMiILwlRJzpKxJKvCBm8OsBBbLux0tsPl4RKYm5aPu6jw1U4mGxEUR9g8M1PcqBEp/WJliNgYOXueBzS4jZSIcgY5lCtevgDSgyzE+rAfuOTQMq0yzvoGH18qju27Mayzs4fPyMziCx81NJa5RNfW7vPYK9KOfDiVkBxFHG8hAj9txuoBuSWORsFfkpBf7xKFLSeaOefEojh5jz22DJEqMP8fUyaKdQx+RnG+yXMpe8Aars8ueR1pVH/bW3FyyvPRw90upLDHwpgBDtg4aUBNkxRLXMAi03IhcZtr1m+FeI/O/JNyDmmL1djLOauSlNflBpW18RQ2bPqXI22MXXEk75KRHTnkPkYbESbdKP2ZFk0r5sIwffAjy1lx+vx7NLjB6/E7Jfv5ERKhzpN0w8IDE8IGFDv5dhz10s7GFiXRZcUeLCEG5P5nDq9k4PFDcoMpE3GY4OuxuCXhmuyNB6k0RsLIAvqp9NE5r8ZCSS8gxnUp7ODdYhZTqxuiJ9uyJJtPmpqJ7wVj+XVieS903iViHziqAhchLEJAyb7jWU647EpUofQ0ziUuXXXhDddtlllSwjgSQu7r4BRWhQqfDPMVwAAAAASUVORK5CYII=",ot="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkBAMAAACCzIhnAAAAElBMVEVRUVFHcExTU1NRUVFRUVFRUVFOSlSUAAAABnRSTlP/AI6+VySB3ZENAAACcElEQVRYw+2YyYKCMAyGI8hdpdxdZu7gcpdZ7jL6/s8yYheSNi0aPdqbwOffpGmaFOYPD3gj4bisN7vddv17N/JVgxn5x12IWgIaWTuO/IE3PseQbwjGPo2cgRmHFLJwdm/X643zwiqOKPPJ1nj3sjEP2iiifZWj5bhopSyGaEO2HX5fbQJzwJ+W7x/jw5ZFjsEU0PMph9xE8i5EqprKALW95eJQURkgzw98uJ/JvwGecR7bIjWWsUgVrrIfFZ2HlLy3sKETD1mmRLRMRhGVssRa0xJkdn3SpJBymBkM8+pSSDXMDNyDaToVHd2fgpNt0sjwiUZO19+jGQ+gQEg9Oq+bufmAVGihomNmjQG7UG3020vrlm7lkFnKFGU3kZ0KGAdmKe821pipQ+qEKcrZeTL2g5FsUks4cStjEZWwXg0b0n4GxmEpkWwIs5VBynjgK7xZaz1/0D7OxkVuLpsY5BQNFyLS84VBjjbg0iL2r2EQHBOxBhikuUOkdxODVF1cxHoWtPPsiyXO455Iv34hssCO8EV4ZIYTjS8SR4qYSHRiTiYQ4ZFbHi0iIhhBTi6dTCgSWRcnw4h4yGTuyTAiOGBIWGoZTgSHJQl+LcOJ4OCnW6yX2bMnJ9pidCOXtkTkTrIGpYuOynAiOF14SamMiOCk5Ke+mq8BcOrrvym8d0zKIQnWT+M1WwOQNO4fFiWb18hhERxJPx2fblbPHHyC41VyiAtKBUFBIih7JMWVoIQTFIr3lKPN80WvoLSWFPC653ioTZA0I0FrQ7qU6asaK0H7JmkSJa2ooOGVtNUsc3j9FYHkIkJy3SG6VHnfXKXGP9t4N9Q4Ye98AAAAAElFTkSuQmCC",st="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkBAMAAACCzIhnAAAAGFBMVEVHcEz///////////////////////////8dS1W+AAAAB3RSTlMAiVYk6KvDHLfaegAAAo1JREFUWMPtWEtzmzAQNhCTq910ytXpiyvxTNOr60zrayepx9d02gnX4sTm7xcEiJX2gdnkGJ1A4tOnfWqXyeR1vMRYzrcPD9v5h5MBl3/Ldvx4cxIg/FWC8X0xjLjalM54uhhCfCrRuJURX0pi3EmIqZV7O59vrRZmguStHL9b7S7ftfLwOtiZDw7AHMtmquAQ12b5Wwbnordm8g9zLLO49qc/m2n6aKnhwPOGZ08hAiNHhheiHae1lOUPGZpQkPKa3q0mOUjaRzSRaGUjpy/mmWSwySSpllcEteBKAT52KEnSbblA51pJEPxBQoiH1FP4E3s5+FJv07h6/ylD6ui7B+9fq/ehrFB98ghec9EoVtyjK8pqCHLmCBOwMWSCeWFNN4MbPAk55NhsvoFHSSVR0k5TCTTEzlUGcqV/nVp7n9oIVkmtaqbAEqEgfdgHJPwsEAyZ9r4VAZXFjpEwyaw3+H2v42KYxKhs1XvY/gSSGv+IHyUSuHXCeZhLAgVI3EjgSGo1Fb3xO0tGGU9S2/KAIbtjxpJASG73qox6w5LUq0cEOa+iIONIWIilQSQ0pPa2jgaRQAgQP7c0mITRWGxpMAmEQFN2NAQJNCV0mI6GIIEO47hlQ0ORQLd0nL+hoUjg1m6I1TRr8uYEAriBHLcVFQ5UEMiBe3XkTBEG04WXlGKGxPnMS305XQPA1Ocn2JiuAZwE66fxnKwBnDTuXxZTMq85lwW6kt5ndLqZPefiU1yvmktcUSooChJF2aMprhQlnKJQ5FxRKkcVRa+itNYU8Io2oVkY14w0NMWYlqft91Bj9VHq+ca3b43BxjWJmla0sfKohlfTVpPN+93L/yLQ/IjQ/O5Q/VR5HdL4D7mlxmjwVdELAAAAAElFTkSuQmCC",lt="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJYAAACWCAMAAAAL34HQAAALeGlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNi4wLWMwMDIgNzkuMTY0NDg4LCAyMDIwLzA3LzEwLTIyOjA2OjUzICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0RXZ0PSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VFdmVudCMiIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczpwaG90b3Nob3A9Imh0dHA6Ly9ucy5hZG9iZS5jb20vcGhvdG9zaG9wLzEuMC8iIHhtbG5zOnRpZmY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vdGlmZi8xLjAvIiB4bWxuczpleGlmPSJodHRwOi8vbnMuYWRvYmUuY29tL2V4aWYvMS4wLyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ0MgMjAxOSAoV2luZG93cykiIHhtcDpDcmVhdGVEYXRlPSIyMDIyLTAyLTIyVDIxOjIxOjQ1KzA4OjAwIiB4bXA6TWV0YWRhdGFEYXRlPSIyMDI0LTAxLTEzVDE5OjA5OjQwKzA4OjAwIiB4bXA6TW9kaWZ5RGF0ZT0iMjAyNC0wMS0xM1QxOTowOTo0MCswODowMCIgZGM6Zm9ybWF0PSJpbWFnZS9wbmciIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6ZWQwMWYzNWQtOWRjOC00MDBiLWEyMmQtNjM5OGZiNzVhNGRiIiB4bXBNTTpEb2N1bWVudElEPSJhZG9iZTpkb2NpZDpwaG90b3Nob3A6ZDhlMzQ3ZmEtMDY2My1jYTRiLTgzNTctNTk4YjBkNGIzOTU2IiB4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ9InhtcC5kaWQ6ZDA4MDI4MDItMzUyYS04NTRhLTkxYjctNmRlNmQ1MmViM2QwIiBwaG90b3Nob3A6Q29sb3JNb2RlPSIzIiBwaG90b3Nob3A6SUNDUHJvZmlsZT0ic1JHQiBJRUM2MTk2Ni0yLjEiIHRpZmY6T3JpZW50YXRpb249IjEiIHRpZmY6WFJlc29sdXRpb249IjMwMDAwMDAvMTAwMDAiIHRpZmY6WVJlc29sdXRpb249IjMwMDAwMDAvMTAwMDAiIHRpZmY6UmVzb2x1dGlvblVuaXQ9IjIiIGV4aWY6Q29sb3JTcGFjZT0iMSIgZXhpZjpQaXhlbFhEaW1lbnNpb249IjMwMCIgZXhpZjpQaXhlbFlEaW1lbnNpb249IjMwMCI+IDx4bXBNTTpIaXN0b3J5PiA8cmRmOlNlcT4gPHJkZjpsaSBzdEV2dDphY3Rpb249ImNyZWF0ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6ZDA4MDI4MDItMzUyYS04NTRhLTkxYjctNmRlNmQ1MmViM2QwIiBzdEV2dDp3aGVuPSIyMDIyLTAyLTIyVDIxOjIxOjQ1KzA4OjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgQ0MgMjAxOSAoV2luZG93cykiLz4gPHJkZjpsaSBzdEV2dDphY3Rpb249InNhdmVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOjQwNjg2NzJkLWY5NDMtOTU0Mi1iMDBiLTVlMDExNmE1NmIzZSIgc3RFdnQ6d2hlbj0iMjAyNC0wMS0xM1QxMDoyNjoxNiswODowMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTkgKFdpbmRvd3MpIiBzdEV2dDpjaGFuZ2VkPSIvIi8+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJzYXZlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDphYmJkZmUyZC0xY2Q2LTJiNDgtYjUyNS05YzlhZjdlNjA4NDMiIHN0RXZ0OndoZW49IjIwMjQtMDEtMTNUMTE6MjM6NDArMDg6MDAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCBDQyAyMDE5IChXaW5kb3dzKSIgc3RFdnQ6Y2hhbmdlZD0iLyIvPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0iY29udmVydGVkIiBzdEV2dDpwYXJhbWV0ZXJzPSJmcm9tIGFwcGxpY2F0aW9uL3ZuZC5hZG9iZS5waG90b3Nob3AgdG8gaW1hZ2UvcG5nIi8+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJkZXJpdmVkIiBzdEV2dDpwYXJhbWV0ZXJzPSJjb252ZXJ0ZWQgZnJvbSBhcHBsaWNhdGlvbi92bmQuYWRvYmUucGhvdG9zaG9wIHRvIGltYWdlL3BuZyIvPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0ic2F2ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6YTQ5MjM5MDAtNDhiZC03YTQ1LWI4NGItYmVlZTVjOWUxYTM1IiBzdEV2dDp3aGVuPSIyMDI0LTAxLTEzVDExOjIzOjQwKzA4OjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgQ0MgMjAxOSAoV2luZG93cykiIHN0RXZ0OmNoYW5nZWQ9Ii8iLz4gPHJkZjpsaSBzdEV2dDphY3Rpb249InNhdmVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOmVkMDFmMzVkLTlkYzgtNDAwYi1hMjJkLTYzOThmYjc1YTRkYiIgc3RFdnQ6d2hlbj0iMjAyNC0wMS0xM1QxOTowOTo0MCswODowMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIDIyLjAgKE1hY2ludG9zaCkiIHN0RXZ0OmNoYW5nZWQ9Ii8iLz4gPC9yZGY6U2VxPiA8L3htcE1NOkhpc3Rvcnk+IDx4bXBNTTpEZXJpdmVkRnJvbSBz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",rt="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJYAAACWCAMAAAAL34HQAAALeGlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNi4wLWMwMDIgNzkuMTY0NDg4LCAyMDIwLzA3LzEwLTIyOjA2OjUzICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0RXZ0PSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VFdmVudCMiIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczpwaG90b3Nob3A9Imh0dHA6Ly9ucy5hZG9iZS5jb20vcGhvdG9zaG9wLzEuMC8iIHhtbG5zOnRpZmY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vdGlmZi8xLjAvIiB4bWxuczpleGlmPSJodHRwOi8vbnMuYWRvYmUuY29tL2V4aWYvMS4wLyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ0MgMjAxOSAoV2luZG93cykiIHhtcDpDcmVhdGVEYXRlPSIyMDIyLTAyLTIyVDIxOjIxOjQ1KzA4OjAwIiB4bXA6TWV0YWRhdGFEYXRlPSIyMDI0LTAxLTEzVDE5OjEwOjEwKzA4OjAwIiB4bXA6TW9kaWZ5RGF0ZT0iMjAyNC0wMS0xM1QxOToxMDoxMCswODowMCIgZGM6Zm9ybWF0PSJpbWFnZS9wbmciIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MTQ3NTExNjAtZDY5MC00ZTkzLWFhNGUtNGMwYTViNGU1ZGFjIiB4bXBNTTpEb2N1bWVudElEPSJhZG9iZTpkb2NpZDpwaG90b3Nob3A6YzRiNzlkYWMtZTJmYS1iNzQ0LWIxM2ItOWU1N2VjMDhhM2YwIiB4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ9InhtcC5kaWQ6ZDA4MDI4MDItMzUyYS04NTRhLTkxYjctNmRlNmQ1MmViM2QwIiBwaG90b3Nob3A6Q29sb3JNb2RlPSIzIiBwaG90b3Nob3A6SUNDUHJvZmlsZT0ic1JHQiBJRUM2MTk2Ni0yLjEiIHRpZmY6T3JpZW50YXRpb249IjEiIHRpZmY6WFJlc29sdXRpb249IjMwMDAwMDAvMTAwMDAiIHRpZmY6WVJlc29sdXRpb249IjMwMDAwMDAvMTAwMDAiIHRpZmY6UmVzb2x1dGlvblVuaXQ9IjIiIGV4aWY6Q29sb3JTcGFjZT0iMSIgZXhpZjpQaXhlbFhEaW1lbnNpb249IjMwMCIgZXhpZjpQaXhlbFlEaW1lbnNpb249IjMwMCI+IDx4bXBNTTpIaXN0b3J5PiA8cmRmOlNlcT4gPHJkZjpsaSBzdEV2dDphY3Rpb249ImNyZWF0ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6ZDA4MDI4MDItMzUyYS04NTRhLTkxYjctNmRlNmQ1MmViM2QwIiBzdEV2dDp3aGVuPSIyMDIyLTAyLTIyVDIxOjIxOjQ1KzA4OjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgQ0MgMjAxOSAoV2luZG93cykiLz4gPHJkZjpsaSBzdEV2dDphY3Rpb249InNhdmVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOjQwNjg2NzJkLWY5NDMtOTU0Mi1iMDBiLTVlMDExNmE1NmIzZSIgc3RFdnQ6d2hlbj0iMjAyNC0wMS0xM1QxMDoyNjoxNiswODowMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTkgKFdpbmRvd3MpIiBzdEV2dDpjaGFuZ2VkPSIvIi8+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJzYXZlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDpjZjk1NTE1OC04MjFiLTA4NDUtYWJmNS05YTE1NGM1ZTY4NjEiIHN0RXZ0OndoZW49IjIwMjQtMDEtMTNUMTE6MDQ6MDQrMDg6MDAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCBDQyAyMDE5IChXaW5kb3dzKSIgc3RFdnQ6Y2hhbmdlZD0iLyIvPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0iY29udmVydGVkIiBzdEV2dDpwYXJhbWV0ZXJzPSJmcm9tIGFwcGxpY2F0aW9uL3ZuZC5hZG9iZS5waG90b3Nob3AgdG8gaW1hZ2UvcG5nIi8+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJkZXJpdmVkIiBzdEV2dDpwYXJhbWV0ZXJzPSJjb252ZXJ0ZWQgZnJvbSBhcHBsaWNhdGlvbi92bmQuYWRvYmUucGhvdG9zaG9wIHRvIGltYWdlL3BuZyIvPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0ic2F2ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6ZGM1Y2IyNWItZDZlNC0yZjQ2LTgyODQtZmUwOTNlY2M2ZTkxIiBzdEV2dDp3aGVuPSIyMDI0LTAxLTEzVDExOjA0OjA0KzA4OjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgQ0MgMjAxOSAoV2luZG93cykiIHN0RXZ0OmNoYW5nZWQ9Ii8iLz4gPHJkZjpsaSBzdEV2dDphY3Rpb249InNhdmVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOjE0NzUxMTYwLWQ2OTAtNGU5My1hYTRlLTRjMGE1YjRlNWRhYyIgc3RFdnQ6d2hlbj0iMjAyNC0wMS0xM1QxOToxMDoxMCswODowMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIDIyLjAgKE1hY2ludG9zaCkiIHN0RXZ0OmNoYW5nZWQ9Ii8iLz4gPC9yZGY6U2VxPiA8L3htcE1NOkhpc3Rvcnk+IDx4bXBNTTpEZXJpdmVkRnJvbSBz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",nt="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADIBAMAAABfdrOtAAAAElBMVEVRUVH+/v5HcEyZmZlRUVFRUVGm1ByOAAAABnRSTlPMzADMTZAJBBGsAAAEnElEQVR42t2cS27jMAyGf7/2U+QCQeDsbeQCgZDujaC5/1UmkzaJn+JDFGcw3LdfflKibJkkDnxrL7dbg7sNt6+L4O8OYBM+B0ys+QrGkHZG+OEEQ8g6go8Bx1GIGMdpNOQyIG6XdMgnSPtKhLQDGEZFBgYMkhKFtGBb0EIEjDgFRowoBVaMGAWpMedEfxMiZtwpUsgZCqtlkCNUdpVAWigtCCCDFtLwIWeoreZCWiRYYEKGFEjDg+yRZCUH0iLRAgNyToXUNCRZyMqWhGnUN2IPm3wSlwJ7IUspyCBkIQUZhCykIIeQuRTkEDKXAuM9srrtYbrZN7Y98giZSoFd+t1OxmMITG0dcrSFXFchZ1tIvQZpYWxhBbK3hpQrkMEa0iwh5t4a+QvZvDXyF7J5a+Qv5PPW21/I5623v5DPW29/IaO3Xv5Clrw1y1/Ikrdm+Qs5svw83yNnSJ5BQb4F/F7EIEJSnThGBAXxkFQfLOviQUE8JAUPsosHBfGQfDAtHhREQ1JxIV00KIgmrnRI84S0yAd5BAXxxJUck0f6Qnwr9qmr6xF5xLMjcwn/iudIEAdWnyjkEXlQKZiRVzoqRyLbgeUKKR8Q4alY7cSnoxzSf2ggsqehKr6YVpcXpOd7H93f60cKhOd7Re2LteUF4eLqiVS1mr0ge4io6C2+soaFkJ7MuuuQs1yITEp9hwwKISIpzR2iESKSIoT0rLNwuVHQqoSIpAQJpGce60vIUSdEIuUqgPTsJ5QFZK8UIpBS8iG94GFrDjlrhfCl8CG96Llxmle4kEr6vKWBPIVo9kqDQSRk9/3cWoikcCFPAd33v4dIChPyEvLzBA6RlEYWke4JEUnhKXkLeUEKxRHJFfKCQHGucIW8IdZSRkLeEGMpYyEjiK2UsZARxFTKRMgYYillImQMMZQyFTKB2EmZCplAuFLIHT8TMoWwpQwiIVMIUwqpZP5bp5CCvCTiQKr5f5lCQN+tPCBn2ZvVDFJwIDUP0m1BYAfZYRNSsCB7BqTbhoARePIxtZ9tgwWkoJcwCalmv3MBAemtO4R6dah2HaKQqj8Zvp9sQDjvJ21+SPCBHPJDDk6QITekEV7gqCC19CpKAym9IMfckKv4olMBCeIrWwVEfvkshzQekO9r9P1/ALk+IG1eSPCDiCJfyG+FyU+A6ZCa/piZDinpz7LpkCv5gdkAEshP5emQhv7onw6pGeULyZCSUYiRDAmMkpJkCKs4JhFSq8p8hJBSVbAkhARV6ZUQoisik0FqXTmcDHLVFfbJIEFXoiiCNMpiSxGkVJaNiiBBWQArgTTaUl4JpNQWJUsgQVteXQg+AKkLxQWFGKW+5J2+eVp4S168X3CF1CltCKdTJ8lb84YK2bUBO+wZW0Pqv9nk4tKu49N45NJC5dMM5tLW5tOg59Jq6NM06dL+abFXwr/RkuvTXJwae1abtE/Dt0/ruksTvs84AZ/BCC4jHnyGVfiM3VBQFANEXEah+Ax18RlP4zNox2dkkM/wI58xTn8yDCXGYCDV3W5RGSajtXyGhG1jbpbjzpwGt/0MJft8jqC7iUbQ/QZaxdnKqcIftwAAAABJRU5ErkJggg==";const ht=C({name:"z-paging-empty-view",data:()=>({}),props:{emptyViewText:{type:String,default:"没有数据哦~"},emptyViewImg:{type:String,default:""},showEmptyViewReload:{type:Boolean,default:!1},emptyViewReloadText:{type:String,default:"重新加载"},isLoadFailed:{type:Boolean,default:!1},emptyViewStyle:{type:Object,default:function(){return{}}},emptyViewImgStyle:{type:Object,default:function(){return{}}},emptyViewTitleStyle:{type:Object,default:function(){return{}}},emptyViewReloadStyle:{type:Object,default:function(){return{}}},emptyViewZIndex:{type:Number,default:9},emptyViewFixed:{type:Boolean,default:!0},unit:{type:String,default:"rpx"}},computed:{emptyImg(){return this.isLoadFailed?rt:lt},finalEmptyViewStyle(){return this.emptyViewStyle["z-index"]=this.emptyViewZIndex,this.emptyViewStyle}},methods:{reloadClick(){this.$emit("reload")},emptyViewClick(){this.$emit("viewClick")}}},[["render",function(e,t,i,a,o,s){const l=oe,r=Q,n=T;return f(),p(n,{class:w({"zp-container":!0,"zp-container-fixed":i.emptyViewFixed}),style:S([s.finalEmptyViewStyle]),onClick:s.emptyViewClick},{default:m(()=>[L(n,{class:"zp-main"},{default:m(()=>[i.emptyViewImg.length?(f(),p(l,{key:1,class:w({"zp-main-image-rpx":"rpx"===i.unit,"zp-main-image-px":"px"===i.unit}),mode:"aspectFit",style:S([i.emptyViewImgStyle]),src:i.emptyViewImg},null,8,["class","style","src"])):(f(),p(l,{key:0,class:w({"zp-main-image-rpx":"rpx"===i.unit,"zp-main-image-px":"px"===i.unit}),style:S([i.emptyViewImgStyle]),src:s.emptyImg},null,8,["class","style","src"])),L(r,{class:w(["zp-main-title",{"zp-main-title-rpx":"rpx"===i.unit,"zp-main-title-px":"px"===i.unit}]),style:S([i.emptyViewTitleStyle])},{default:m(()=>[J(K(i.emptyViewText),1)]),_:1},8,["class","style"]),i.showEmptyViewReload?(f(),p(r,{key:2,class:w({"zp-main-error-btn":!0,"zp-main-error-btn-rpx":"rpx"===i.unit,"zp-main-error-btn-px":"px"===i.unit}),style:S([i.emptyViewReloadStyle]),onClick:se(s.reloadClick,["stop"])},{default:m(()=>[J(K(i.emptyViewReloadText),1)]),_:1},8,["class","style","onClick"])):y("",!0)]),_:1})]),_:1},8,["class","style","onClick"])}],["__scopeId","data-v-a3cd4113"]]),dt={LoadingType:{Refresher:"refresher",LoadMore:"load-more"},Refresher:{Default:"default",ReleaseToRefresh:"release-to-refresh",Loading:"loading",Complete:"complete",GoF2:"go-f2"},More:{Default:"default",Loading:"loading",NoMore:"no-more",Fail:"fail"},QueryFrom:{UserPullDown:"user-pull-down",Reload:"reload",Refresh:"refresh",LoadMore:"load-more"},CellHeightMode:{Fixed:"fixed",Dynamic:"dynamic"},CacheMode:{Default:"default",Always:"always"}};const ct=C({name:"z-paging-refresh",data:()=>({R:dt.Refresher,refresherTimeText:"",zTheme:{title:{white:"#efefef",black:"#555555"},arrow:{white:tt,black:et},flower:{white:at,black:it},success:{white:st,black:ot},indicator:{white:"#eeeeee",black:"#777777"}}}),props:["status","defaultThemeStyle","defaultText","pullingText","refreshingText","completeText","goF2Text","defaultImg","pullingImg","refreshingImg","completeImg","refreshingAnimated","showUpdateTime","updateTimeKey","imgStyle","titleStyle","updateTimeStyle","updateTimeTextMap","unit","isIos"],computed:{ts(){return this.defaultThemeStyle},statusTextMap(){this.updateTime();const{R:e,defaultText:t,pullingText:i,refreshingText:a,completeText:o,goF2Text:s}=this;return{[e.Default]:t,[e.ReleaseToRefresh]:i,[e.Loading]:a,[e.Complete]:o,[e.GoF2]:s}},currentTitle(){return this.statusTextMap[this.status]||this.defaultText},leftImageClass(){const e=`zp-r-left-image-pre-size-${this.unit}`;return this.status===this.R.Complete?e:`zp-r-left-image ${e} ${this.status===this.R.Default?"zp-r-arrow-down":"zp-r-arrow-top"}`},leftImageStyle(){const e=this.showUpdateTime,t=e?Xe.addUnit(36,this.unit):Xe.addUnit(34,this.unit);return{width:t,height:t,"margin-right":e?Xe.addUnit(20,this.unit):Xe.addUnit(9,this.unit)}},leftImageSrc(){const e=this.R,t=this.status;return t===e.Default?this.defaultImg?this.defaultImg:this.zTheme.arrow[this.ts]:t===e.ReleaseToRefresh?this.pullingImg?this.pullingImg:this.defaultImg?this.defaultImg:this.zTheme.arrow[this.ts]:t===e.Loading?this.refreshingImg?this.refreshingImg:this.zTheme.flower[this.ts]:t===e.Complete?this.completeImg?this.completeImg:this.zTheme.success[this.ts]:t===e.GoF2?this.zTheme.arrow[this.ts]:""},rightTextStyle(){let e={};return e.color=this.zTheme.title[this.ts],e["font-size"]=Xe.addUnit(30,this.unit),e}},methods:{addUnit:(e,t)=>Xe.addUnit(e,t),updateTime(){this.showUpdateTime&&(this.refresherTimeText=Xe.getRefesrherFormatTimeByKey(this.updateTimeKey,this.updateTimeTextMap))}}},[["render",function(e,t,i,a,o,s){const l=oe,r=T,n=Q;return f(),p(r,{style:{height:"100%"}},{default:m(()=>[L(r,{class:w(i.showUpdateTime?"zp-r-container zp-r-container-padding":"zp-r-container")},{default:m(()=>[L(r,{class:"zp-r-left"},{default:m(()=>[i.status!==o.R.Loading?(f(),p(l,{key:0,class:w(s.leftImageClass),style:S([s.leftImageStyle,i.imgStyle]),src:s.leftImageSrc},null,8,["class","style","src"])):(f(),p(l,{key:1,class:w({"zp-line-loading-image":i.refreshingAnimated,"zp-r-left-image":!0,"zp-r-left-image-pre-size-rpx":"rpx"===i.unit,"zp-r-left-image-pre-size-px":"px"===i.unit}),style:S([s.leftImageStyle,i.imgStyle]),src:s.leftImageSrc},null,8,["class","style","src"]))]),_:1}),L(r,{class:"zp-r-right"},{default:m(()=>[L(n,{class:"zp-r-right-text",style:S([s.rightTextStyle,i.titleStyle])},{default:m(()=>[J(K(s.currentTitle),1)]),_:1},8,["style"]),i.showUpdateTime&&o.refresherTimeText.length?(f(),p(n,{key:0,class:w(["zp-r-right-text",{"zp-r-right-time-text-rpx":"rpx"===i.unit,"zp-r-right-time-text-px":"px"===i.unit}]),style:S([{color:o.zTheme.title[s.ts]},i.updateTimeStyle])},{default:m(()=>[J(K(o.refresherTimeText),1)]),_:1},8,["class","style"])):y("",!0)]),_:1})]),_:1},8,["class"])]),_:1})}],["__scopeId","data-v-d896187a"]]);const ut=C({name:"z-paging-load-more",data:()=>({M:dt.More,zTheme:{title:{white:"#efefef",black:"#a4a4a4"},line:{white:"#efefef",black:"#eeeeee"},circleBorder:{white:"#aaaaaa",black:"#c8c8c8"},circleBorderTop:{white:"#ffffff",black:"#444444"},flower:{white:at,black:it},indicator:{white:"#eeeeee",black:"#777777"}}}),props:["zConfig"],computed:{ts(){return this.c.defaultThemeStyle},c(){return this.zConfig||{}},ownLoadingMoreText(){return{[this.M.Default]:this.c.defaultText,[this.M.Loading]:this.c.loadingText,[this.M.NoMore]:this.c.noMoreText,[this.M.Fail]:this.c.failText}[this.finalStatus]},finalStatus(){return this.c.defaultAsLoading&&this.c.status===this.M.Default?this.M.Loading:this.c.status},finalLoadingIconType(){return this.c.loadingIconType}},methods:{doClick(){this.$emit("doClick")}}},[["render",function(e,t,i,a,o,s){const l=Q,r=oe,n=T;return f(),p(n,{class:w(["zp-l-container",{"zp-l-container-rpx":"rpx"===s.c.unit,"zp-l-container-px":"px"===s.c.unit}]),style:S([s.c.customStyle]),onClick:s.doClick},{default:m(()=>[s.c.hideContent?y("",!0):(f(),O(j,{key:0},[s.c.showNoMoreLine&&s.finalStatus===o.M.NoMore?(f(),p(l,{key:0,class:w({"zp-l-line-rpx":"rpx"===s.c.unit,"zp-l-line-px":"px"===s.c.unit}),style:S([{backgroundColor:o.zTheme.line[s.ts]},s.c.noMoreLineCustomStyle])},null,8,["class","style"])):y("",!0),s.finalStatus===o.M.Loading&&s.c.loadingIconCustomImage?(f(),p(r,{key:1,src:s.c.loadingIconCustomImage,style:S([s.c.iconCustomStyle]),class:w({"zp-l-line-loading-custom-image":!0,"zp-l-line-loading-custom-image-animated":s.c.loadingAnimated,"zp-l-line-loading-custom-image-rpx":"rpx"===s.c.unit,"zp-l-line-loading-custom-image-px":"px"===s.c.unit})},null,8,["src","style","class"])):y("",!0),s.finalStatus!==o.M.Loading||"flower"!==s.finalLoadingIconType||s.c.loadingIconCustomImage.length?y("",!0):(f(),p(r,{key:2,class:w({"zp-line-loading-image":!0,"zp-line-loading-image-rpx":"rpx"===s.c.unit,"zp-line-loading-image-px":"px"===s.c.unit}),style:S([s.c.iconCustomStyle]),src:o.zTheme.flower[s.ts]},null,8,["class","style","src"])),s.finalStatus!==o.M.Loading||"circle"!==s.finalLoadingIconType||s.c.loadingIconCustomImage.length?y("",!0):(f(),p(l,{key:3,class:w(["zp-l-circle-loading-view",{"zp-l-circle-loading-view-rpx":"rpx"===s.c.unit,"zp-l-circle-loading-view-px":"px"===s.c.unit}]),style:S([{borderColor:o.zTheme.circleBorder[s.ts],borderTopColor:o.zTheme.circleBorderTop[s.ts]},s.c.iconCustomStyle])},null,8,["class","style"])),!s.c.isChat||!s.c.chatDefaultAsLoading&&s.finalStatus===o.M.Default||s.finalStatus===o.M.Fail?(f(),p(l,{key:4,class:w({"zp-l-text-rpx":"rpx"===s.c.unit,"zp-l-text-px":"px"===s.c.unit}),style:S([{color:o.zTheme.title[s.ts]},s.c.titleCustomStyle])},{default:m(()=>[J(K(s.ownLoadingMoreText),1)]),_:1},8,["class","style"])):y("",!0),s.c.showNoMoreLine&&s.finalStatus===o.M.NoMore?(f(),p(l,{key:5,class:w({"zp-l-line-rpx":"rpx"===s.c.unit,"zp-l-line-px":"px"===s.c.unit}),style:S([{backgroundColor:o.zTheme.line[s.ts]},s.c.noMoreLineCustomStyle])},null,8,["class","style"])):y("",!0)],64))]),_:1},8,["class","style","onClick"])}],["__scopeId","data-v-aafc5fd6"]]),gt="Query",pt="FetchParams",ft="FetchResult",mt="Language2Local";function yt(){return le()}function Tt(){return yt()&&yt().globalData}function St(e,t){try{setTimeout(function(){Tt()&&(yt().globalData[`zp_handle${e}Callback`]=t)},1)}catch(i){}}function wt(e){return Tt()?yt().globalData[`zp_handle${e}Callback`]:null}const bt={handleQuery:function(e){return St(gt,e),this},_handleQuery:function(e,t,i,a){const o=wt(gt);return o?o(e,t,i,a):[e,t,i]},handleFetchParams:function(e){return St(pt,e),this},_handleFetchParams:function(e,t){const i=wt(pt);return i?i(e,t||{}):{pageNo:e.pageNo,pageSize:e.pageSize,...t||{}}},handleFetchResult:function(e){return St(ft,e),this},_handleFetchResult:function(e,t,i){const a=wt(ft);return a&&a(e,t,i),!!a},handleLanguage2Local:function(e){return St(mt,e),this},_handleLanguage2Local:function(e,t){const i=wt(mt);return i?i(e,t):t}},Rt={props:{defaultPageNo:{type:Number,default:Xe.gc("defaultPageNo",1),observer:function(e){this.pageNo=e}},defaultPageSize:{type:Number,default:Xe.gc("defaultPageSize",10),validator:e=>(e<=0&&Xe.consoleErr("default-page-size必须大于0！"),e>0)},dataKey:{type:[Number,String,Object],default:Xe.gc("dataKey",null)},useCache:{type:Boolean,default:Xe.gc("useCache",!1)},cacheKey:{type:String,default:Xe.gc("cacheKey",null)},cacheMode:{type:String,default:Xe.gc("cacheMode",dt.CacheMode.Default)},autowireListName:{type:String,default:Xe.gc("autowireListName","")},autowireQueryName:{type:String,default:Xe.gc("autowireQueryName","")},fetch:{type:Function,default:null},fetchParams:{type:Object,default:Xe.gc("fetchParams",null)},auto:{type:Boolean,default:Xe.gc("auto",!0)},reloadWhenRefresh:{type:Boolean,default:Xe.gc("reloadWhenRefresh",!0)},autoScrollToTopWhenReload:{type:Boolean,default:Xe.gc("autoScrollToTopWhenReload",!0)},autoCleanListWhenReload:{type:Boolean,default:Xe.gc("autoCleanListWhenReload",!0)},showRefresherWhenReload:{type:Boolean,default:Xe.gc("showRefresherWhenReload",!1)},showLoadingMoreWhenReload:{type:Boolean,default:Xe.gc("showLoadingMoreWhenReload",!1)},createdReload:{type:Boolean,default:Xe.gc("createdReload",!1)},localPagingLoadingTime:{type:[Number,String],default:Xe.gc("localPagingLoadingTime",200)},concat:{type:Boolean,default:Xe.gc("concat",!0)},callNetworkReject:{type:Boolean,default:Xe.gc("callNetworkReject",!0)},value:{type:Array,default:function(){return[]}},modelValue:{type:Array,default:function(){return[]}}},data(){return{currentData:[],totalData:[],realTotalData:[],totalLocalPagingList:[],dataPromiseResultMap:{reload:null,complete:null,localPaging:null},isSettingCacheList:!1,pageNo:1,currentRefreshPageSize:0,isLocalPaging:!1,isAddedData:!1,isTotalChangeFromAddData:!1,privateConcat:!0,myParentQuery:-1,firstPageLoaded:!1,pagingLoaded:!1,loaded:!1,isUserReload:!0,fromEmptyViewReload:!1,queryFrom:"",listRendering:!1,isHandlingRefreshToPage:!1,isFirstPageAndNoMore:!1,totalDataChangeThrow:!0,addDataFromTopBufferedInsert:Xe.useBufferedInsert(this._addDataFromTop)}},computed:{pageSize(){return this.defaultPageSize},finalConcat(){return this.concat&&this.privateConcat},finalUseCache(){return this.useCache&&!this.cacheKey&&Xe.consoleErr("use-cache为true时，必须设置cache-key，否则缓存无效！"),this.useCache&&!!this.cacheKey},finalCacheKey(){return this.cacheKey?`${Fe}-${this.cacheKey}`:null},isFirstPage(){return this.pageNo===this.defaultPageNo}},watch:{totalData(e,t){const i=!!this.isSettingCacheList||this.totalDataChangeThrow;this._totalDataChange(e,t,i),this.totalDataChangeThrow=!0},currentData(e,t){this._currentDataChange(e,t)},useChatRecordMode(e,t){e&&(this.nLoadingMoreFixedHeight=!1)},value:{handler(e){e!==this.totalData&&(this.totalDataChangeThrow=!1,this.totalData=e)},immediate:!0},modelValue:{handler(e){e!==this.totalData&&(this.totalDataChangeThrow=!1,this.totalData=e)},immediate:!0}},methods:{complete(e,t=!0){return this.customNoMore=-1,this.addData(e,t)},completeByKey(e,t=null,i=!0){return null!==t&&null!==this.dataKey&&t!==this.dataKey?(this.isFirstPage&&this.endRefresh(),new Promise(e=>e())):(this.customNoMore=-1,this.addData(e,i))},completeByTotal(e,t,i=!0){if("undefined"==t)this.customNoMore=-1;else{const a=this._checkDataType(e,i,!1);if(e=a.data,i=a.success,t>=0&&i)return new Promise((a,o)=>{this.$nextTick(()=>{let s=!1;let l=(this.pageNo==this.defaultPageNo?0:this.realTotalData.length)+(this.privateConcat?e.length:0)-t;l>=0&&(s=!0,l=this.defaultPageSize-l,this.privateConcat&&l>0&&l<e.length&&(e=e.splice(0,l))),this.completeByNoMore(e,s,i).then(e=>a(e)).catch(()=>o())})})}return this.addData(e,i)},completeByNoMore(e,t,i=!0){return"undefined"!=t&&(this.customNoMore=1==t?1:0),this.addData(e,i)},completeByError(e){return this.customerEmptyViewErrorText=e,this.complete(!1)},addData(e,t=!0){this.fromCompleteEmit||(this.disabledCompleteEmit=!0,this.fromCompleteEmit=!1);const i=Xe.getTime()-this.requestTimeStamp;let a=this.minDelay;this.isFirstPage&&this.finalShowRefresherWhenReload&&(a=Math.max(400,a));const o=this.requestTimeStamp>0&&i<a?a-i:0;return this.$nextTick(()=>{Xe.delay(()=>{this._addData(e,t,!1)},this.delay>0?this.delay:o)}),new Promise((e,t)=>{this.dataPromiseResultMap.complete={resolve:e,reject:t}})},addDataFromTop(e,t=!0,i=!0){(this.finalUseVirtualList?this.addDataFromTopBufferedInsert:this._addDataFromTop)(e,t,i)},resetTotalData(e){this.isTotalChangeFromAddData=!0,e="[object Array]"!==Object.prototype.toString.call(e)?[e]:e,this.totalData=e},setLocalPaging(e,t=!0){return this.isLocalPaging=!0,this.$nextTick(()=>{this._addData(e,t,!0)}),new Promise((e,t)=>{this.dataPromiseResultMap.localPaging={resolve:e,reject:t}})},reload(e=this.showRefresherWhenReload){return e&&(this.privateShowRefresherWhenReload=e,this.isUserPullDown=!0),this.showLoadingMoreWhenReload||(this.listRendering=!0),this.$nextTick(()=>{this._preReload(e,!1)}),new Promise((e,t)=>{this.dataPromiseResultMap.reload={resolve:e,reject:t}})},refresh(){return this._handleRefreshWithDisPageNo(this.pageNo-this.defaultPageNo+1)},refreshToPage(e){return this.isHandlingRefreshToPage=!0,this._handleRefreshWithDisPageNo(e+this.defaultPageNo-1)},updateCache(){this.finalUseCache&&this.totalData.length&&this._saveLocalCache(this.totalData.slice(0,Math.min(this.totalData.length,this.pageSize)))},clean(){this._reload(!0),this._addData([],!0,!1)},clear(){this.clean()},_preReload(e=this.showRefresherWhenReload,t=!0,i=0){const a=this.finalRefresherEnabled&&this.useCustomRefresher;-1===this.customRefresherHeight&&a?Xe.delay(()=>{++i%10==0&&this._updateCustomRefresherHeight(),this._preReload(e,t,i)},Be/2):(this.isUserReload=!0,this.loadingType=dt.LoadingType.Refresher,e?(this.privateShowRefresherWhenReload=e,this.useCustomRefresher?this._doRefresherRefreshAnimate():this.refresherTriggered=!0):this._refresherEnd(!1,!1,!1,!1),this._reload(!1,t))},_reload(e=!1,t=!1,i=!1){if(this.isAddedData=!1,this.insideOfPaging=-1,this.cacheScrollNodeHeight=-1,this.pageNo=this.defaultPageNo,this._cleanRefresherEndTimeout(),!this.privateShowRefresherWhenReload&&!e&&this._startLoading(!0),this.firstPageLoaded=!0,this.isTotalChangeFromAddData=!1,this.isSettingCacheList||(this.totalData=[]),!e){this._emitQuery(this.pageNo,this.defaultPageSize,i?dt.QueryFrom.UserPullDown:dt.QueryFrom.Reload);let e=0;Xe.delay(this._callMyParentQuery,e),!t&&this.autoScrollToTopWhenReload&&this._scrollToTop(!1)}},_addData(e,t,i){this.isAddedData=!0,this.fromEmptyViewReload=!1,this.isTotalChangeFromAddData=!0,this.refresherTriggered=!1,this._endSystemLoadingAndRefresh();const a=this.isUserPullDown;this.showRefresherUpdateTime&&this.isFirstPage&&(Xe.setRefesrherTime(Xe.getTime(),this.refresherUpdateTimeKey),this.$refs.refresh&&this.$refs.refresh.updateTime()),!i&&a&&this.isFirstPage&&(this.isUserPullDown=!1),this.listRendering=!0,this.$nextTick(()=>{Xe.delay(()=>this.listRendering=!1)});let o=this._checkDataType(e,t,i);e=o.data,t=o.success;let s=Be;if(this.useChatRecordMode&&(s=0),this.loadingForNow=!1,Xe.delay(()=>{this.pagingLoaded=!0,this.$nextTick(()=>{!i&&this._refresherEnd(s>0,!0,a)})}),this.isFirstPage&&(this.isLoadFailed=!t,this.$emit("isLoadFailedChange",this.isLoadFailed),this.finalUseCache&&t&&(this.cacheMode===dt.CacheMode.Always||this.isSettingCacheList)&&this._saveLocalCache(e)),this.isSettingCacheList=!1,t){if((!1!==this.privateConcat||this.isHandlingRefreshToPage||this.loadingStatus!==dt.More.NoMore)&&(this.loadingStatus=dt.More.Default),i){this.totalLocalPagingList=e;const t=this.defaultPageNo,i=this.queryFrom!==dt.QueryFrom.Refresh?this.defaultPageSize:this.currentRefreshPageSize;this._localPagingQueryList(t,i,0,e=>{Xe.delay(()=>{this.completeByTotal(e,this.totalLocalPagingList.length)},0)})}else{let t=0;Xe.delay(()=>{this._currentDataChange(e,this.currentData),this._callDataPromise(!0,this.totalData)},t)}this.isHandlingRefreshToPage&&(this.isHandlingRefreshToPage=!1,this.pageNo=this.defaultPageNo+Math.ceil(e.length/this.pageSize)-1,e.length%this.pageSize!==0&&(this.customNoMore=1))}else this._currentDataChange(e,this.currentData),this._callDataPromise(!1),this.loadingStatus=dt.More.Fail,this.isHandlingRefreshToPage=!1,this.loadingType===dt.LoadingType.LoadMore&&this.pageNo--},_totalDataChange(e,t,i=!0){(this.isUserReload&&this.autoCleanListWhenReload||!this.firstPageLoaded||e.length||!t.length)&&(this._doCheckScrollViewShouldFullHeight(e),this.realTotalData.length||e.length||(i=!1),this.realTotalData=e,i&&(this.$emit("input",e),this.$emit("update:modelValue",e),this.$emit("update:list",e),this.$emit("listChange",e),this._callMyParentList(e)),this.firstPageLoaded=!1,this.isTotalChangeFromAddData=!1,this.$nextTick(()=>{Xe.delay(()=>{this._getNodeClientRect(".zp-paging-container-content").then(e=>{e&&this.$emit("contentHeightChanged",e[0].height)})},Be*(this.isIos?1:3))}))},_currentDataChange(e,t){e=[...e],this.finalUseVirtualList&&this._setCellIndex(e,"bottom"),this.isFirstPage&&this.finalConcat&&(this.totalData=[]),-1!==this.customNoMore?(1===this.customNoMore||0!==this.customNoMore&&!e.length)&&(this.loadingStatus=dt.More.NoMore):(!e.length||e.length&&e.length<this.defaultPageSize)&&(this.loadingStatus=dt.More.NoMore),this.totalData.length&&this.finalConcat?(this.oldScrollTop,this.totalData=[...this.totalData,...e]):this.totalData=e,this.privateConcat=!0},_handleRefreshWithDisPageNo(e){if(!this.isHandlingRefreshToPage&&!this.realTotalData.length)return this.reload();if(e>=1){this.loading=!0,this.privateConcat=!1;const t=e*this.pageSize;this.currentRefreshPageSize=t,this.isLocalPaging&&this.isHandlingRefreshToPage?this._localPagingQueryList(this.defaultPageNo,t,0,e=>{this.complete(e)}):(this._emitQuery(this.defaultPageNo,t,dt.QueryFrom.Refresh),this._callMyParentQuery(this.defaultPageNo,t))}return new Promise((e,t)=>{this.dataPromiseResultMap.reload={resolve:e,reject:t}})},_localPagingQueryList(e,t,i,a){e=Math.max(1,e),t=Math.max(1,t);const o=[...this.totalLocalPagingList],s=(e-1)*t,l=Math.min(o.length,s+t),r=o.splice(s,l-s);Xe.delay(()=>a(r),i)},_addDataFromTop(e,t=!0,i=!0){let a=!this.isChatRecordModeAndNotInversion;e="[object Array]"!==Object.prototype.toString.call(e)?[e]:a?e.reverse():e,this.finalUseVirtualList&&this._setCellIndex(e,"top"),this.totalData=a?[...e,...this.totalData]:[...this.totalData,...e],t&&Xe.delay(()=>this.useChatRecordMode?this.scrollToBottom(i):this.scrollToTop(i))},_saveLocalCache(e){ie(this.finalCacheKey,e)},_setListByLocalCache(){this.totalData=ae(this.finalCacheKey)||[],this.isSettingCacheList=!0},_callMyParentList(e){if(this.autowireListName.length){const t=Xe.getParent(this.$parent);t&&t[this.autowireListName]&&(t[this.autowireListName]=e)}},_callMyParentQuery(e=0,t=0){if(this.autowireQueryName){if(-1===this.myParentQuery){const e=Xe.getParent(this.$parent);e&&e[this.autowireQueryName]&&(this.myParentQuery=e[this.autowireQueryName])}-1!==this.myParentQuery&&(t>0?this.myParentQuery(e,t):this.myParentQuery(this.pageNo,this.defaultPageSize))}},_emitQuery(e,t,i){this.queryFrom=i,this.requestTimeStamp=Xe.getTime();const[a]=this.realTotalData.slice(-1);if(this.fetch){const o=bt._handleFetchParams({pageNo:e,pageSize:t,from:i,lastItem:a||null},this.fetchParams),s=this.fetch(o);bt._handleFetchResult(s,this,o)||(Xe.isPromise(s)?s.then(e=>{this.complete(e)}).catch(e=>{this.complete(!1)}):this.complete(s))}else this.$emit("query",...bt._handleQuery(e,t,i,a||null))},_callDataPromise(e,t){for(const i in this.dataPromiseResultMap){const a=this.dataPromiseResultMap[i];a&&(e?a.resolve({totalList:t,noMore:this.loadingStatus===dt.More.NoMore}):this.callNetworkReject&&a.reject(`z-paging-${i}-error`))}},_checkDataType(e,t,i){const a=Object.prototype.toString.call(e);return"[object Boolean]"===a?(t=e,e=[]):"[object Array]"!==a&&(e=[],"[object Undefined]"!==a&&"[object Null]"!==a&&Xe.consoleErr((i?"setLocalPaging":"complete")+"参数类型不正确，第一个参数类型必须为Array!")),{data:e,success:t}}}},xt={en:{"zp.refresher.default":"Pull down to refresh","zp.refresher.pulling":"Release to refresh","zp.refresher.refreshing":"Refreshing...","zp.refresher.complete":"Refresh succeeded","zp.refresher.f2":"Refresh to enter 2f","zp.loadingMore.default":"Click to load more","zp.loadingMore.loading":"Loading...","zp.loadingMore.noMore":"No more data","zp.loadingMore.fail":"Load failed,click to reload","zp.emptyView.title":"No data","zp.emptyView.reload":"Reload","zp.emptyView.error":"Sorry,load failed","zp.refresherUpdateTime.title":"Last update: ","zp.refresherUpdateTime.none":"None","zp.refresherUpdateTime.today":"Today","zp.refresherUpdateTime.yesterday":"Yesterday","zp.systemLoading.title":"Loading..."},"zh-Hans":{"zp.refresher.default":"继续下拉刷新","zp.refresher.pulling":"松开立即刷新","zp.refresher.refreshing":"正在刷新...","zp.refresher.complete":"刷新成功","zp.refresher.f2":"松手进入二楼","zp.loadingMore.default":"点击加载更多","zp.loadingMore.loading":"正在加载...","zp.loadingMore.noMore":"没有更多了","zp.loadingMore.fail":"加载失败，点击重新加载","zp.emptyView.title":"没有数据哦~","zp.emptyView.reload":"重新加载","zp.emptyView.error":"很抱歉，加载失败","zp.refresherUpdateTime.title":"最后更新：","zp.refresherUpdateTime.none":"无","zp.refresherUpdateTime.today":"今天","zp.refresherUpdateTime.yesterday":"昨天","zp.systemLoading.title":"加载中..."},"zh-Hant":{"zp.refresher.default":"繼續下拉重繪","zp.refresher.pulling":"鬆開立即重繪","zp.refresher.refreshing":"正在重繪...","zp.refresher.complete":"重繪成功","zp.refresher.f2":"鬆手進入二樓","zp.loadingMore.default":"點擊加載更多","zp.loadingMore.loading":"正在加載...","zp.loadingMore.noMore":"沒有更多了","zp.loadingMore.fail":"加載失敗，點擊重新加載","zp.emptyView.title":"沒有數據哦~","zp.emptyView.reload":"重新加載","zp.emptyView.error":"很抱歉，加載失敗","zp.refresherUpdateTime.title":"最後更新：","zp.refresherUpdateTime.none":"無","zp.refresherUpdateTime.today":"今天","zp.refresherUpdateTime.yesterday":"昨天","zp.systemLoading.title":"加載中..."}},{t:Ct}=re(xt),vt={computed:{finalLanguage(){try{const e=ne(),t=this.systemInfo.appLanguage;return"auto"===e?bt._handleLanguage2Local(t,this._language2Local(t)):e}catch(e){return"zh-Hans"}},finalRefresherDefaultText(){return this._getI18nText("zp.refresher.default",this.refresherDefaultText)},finalRefresherPullingText(){return this._getI18nText("zp.refresher.pulling",this.refresherPullingText)},finalRefresherRefreshingText(){return this._getI18nText("zp.refresher.refreshing",this.refresherRefreshingText)},finalRefresherCompleteText(){return this._getI18nText("zp.refresher.complete",this.refresherCompleteText)},finalRefresherUpdateTimeTextMap:()=>({title:Ct("zp.refresherUpdateTime.title"),none:Ct("zp.refresherUpdateTime.none"),today:Ct("zp.refresherUpdateTime.today"),yesterday:Ct("zp.refresherUpdateTime.yesterday")}),finalRefresherGoF2Text(){return this._getI18nText("zp.refresher.f2",this.refresherGoF2Text)},finalLoadingMoreDefaultText(){return this._getI18nText("zp.loadingMore.default",this.loadingMoreDefaultText)},finalLoadingMoreLoadingText(){return this._getI18nText("zp.loadingMore.loading",this.loadingMoreLoadingText)},finalLoadingMoreNoMoreText(){return this._getI18nText("zp.loadingMore.noMore",this.loadingMoreNoMoreText)},finalLoadingMoreFailText(){return this._getI18nText("zp.loadingMore.fail",this.loadingMoreFailText)},finalEmptyViewText(){return this.isLoadFailed?this.finalEmptyViewErrorText:this._getI18nText("zp.emptyView.title",this.emptyViewText)},finalEmptyViewReloadText(){return this._getI18nText("zp.emptyView.reload",this.emptyViewReloadText)},finalEmptyViewErrorText(){return this.customerEmptyViewErrorText||this._getI18nText("zp.emptyView.error",this.emptyViewErrorText)},finalSystemLoadingText(){return this._getI18nText("zp.systemLoading.title",this.systemLoadingText)}},methods:{getLanguage(){return this.finalLanguage},_getI18nText(e,t){const i=Object.prototype.toString.call(t);if("[object Object]"===i){const e=t[this.finalLanguage];if(e)return e}else if("[object String]"===i)return t;return Ct(e)},_language2Local(e){const t=e.toLowerCase().replace(new RegExp("_",""),"-");return-1!==t.indexOf("zh")?"zh"===t||"zh-cn"===t||-1!==t.indexOf("zh-hans")?"zh-Hans":"zh-Hant":-1!==t.indexOf("en")?"en":e}}},Mt={props:{},data:()=>({nRefresherLoading:!1,nListIsDragging:!1,nShowBottom:!0,nFixFreezing:!1,nShowRefresherReveal:!1,nLoadingMoreFixedHeight:!1,nShowRefresherRevealHeight:0,nOldShowRefresherRevealHeight:-1,nRefresherWidth:Xe.rpx2px(750),nListHeight:0,nF2Opacity:0}),computed:{},mounted(){},methods:{}},It={props:{hideEmptyView:{type:Boolean,default:Xe.gc("hideEmptyView",!1)},emptyViewText:{type:[String,Object],default:Xe.gc("emptyViewText",null)},showEmptyViewReload:{type:Boolean,default:Xe.gc("showEmptyViewReload",!1)},showEmptyViewReloadWhenError:{type:Boolean,default:Xe.gc("showEmptyViewReloadWhenError",!0)},emptyViewReloadText:{type:[String,Object],default:Xe.gc("emptyViewReloadText",null)},emptyViewImg:{type:String,default:Xe.gc("emptyViewImg","")},emptyViewErrorText:{type:[String,Object],default:Xe.gc("emptyViewErrorText",null)},emptyViewErrorImg:{type:String,default:Xe.gc("emptyViewErrorImg","")},emptyViewStyle:{type:Object,default:Xe.gc("emptyViewStyle",{})},emptyViewSuperStyle:{type:Object,default:Xe.gc("emptyViewSuperStyle",{})},emptyViewImgStyle:{type:Object,default:Xe.gc("emptyViewImgStyle",{})},emptyViewTitleStyle:{type:Object,default:Xe.gc("emptyViewTitleStyle",{})},emptyViewReloadStyle:{type:Object,default:Xe.gc("emptyViewReloadStyle",{})},emptyViewFixed:{type:Boolean,default:Xe.gc("emptyViewFixed",!1)},emptyViewCenter:{type:Boolean,default:Xe.gc("emptyViewCenter",!0)},autoHideEmptyViewWhenLoading:{type:Boolean,default:Xe.gc("autoHideEmptyViewWhenLoading",!0)},autoHideEmptyViewWhenPull:{type:Boolean,default:Xe.gc("autoHideEmptyViewWhenPull",!0)},emptyViewZIndex:{type:Number,default:Xe.gc("emptyViewZIndex",9)}},data:()=>({customerEmptyViewErrorText:""}),computed:{finalEmptyViewImg(){return this.isLoadFailed?this.emptyViewErrorImg:this.emptyViewImg},finalShowEmptyViewReload(){return this.isLoadFailed?this.showEmptyViewReloadWhenError:this.showEmptyViewReload},showEmpty(){return!(this.isOnly||this.hideEmptyView||this.realTotalData.length)&&(!this.autoHideEmptyViewWhenLoading||(!(!this.isAddedData||this.firstPageLoaded||this.loading)||!this.autoHideEmptyViewWhenPull&&!this.isUserReload))}},methods:{_emptyViewReload(){let e=!1;this.$emit("emptyViewReload",t=>{void 0!==t&&!0!==t||(this.fromEmptyViewReload=!0,this.reload().catch(()=>{})),e=!0}),this.$nextTick(()=>{e||(this.fromEmptyViewReload=!0,this.reload().catch(()=>{}))})},_emptyViewClick(){this.$emit("emptyViewClick")}}},At={props:{refresherThemeStyle:{type:String,default:Xe.gc("refresherThemeStyle","")},refresherImgStyle:{type:Object,default:Xe.gc("refresherImgStyle",{})},refresherTitleStyle:{type:Object,default:Xe.gc("refresherTitleStyle",{})},refresherUpdateTimeStyle:{type:Object,default:Xe.gc("refresherUpdateTimeStyle",{})},watchRefresherTouchmove:{type:Boolean,default:Xe.gc("watchRefresherTouchmove",!1)},loadingMoreThemeStyle:{type:String,default:Xe.gc("loadingMoreThemeStyle","")},refresherOnly:{type:Boolean,default:Xe.gc("refresherOnly",!1)},refresherDefaultDuration:{type:[Number,String],default:Xe.gc("refresherDefaultDuration",100)},refresherCompleteDelay:{type:[Number,String],default:Xe.gc("refresherCompleteDelay",0)},refresherCompleteDuration:{type:[Number,String],default:Xe.gc("refresherCompleteDuration",300)},refresherRefreshingScrollable:{type:Boolean,default:Xe.gc("refresherRefreshingScrollable",!0)},refresherCompleteScrollable:{type:Boolean,default:Xe.gc("refresherCompleteScrollable",!1)},useCustomRefresher:{type:Boolean,default:Xe.gc("useCustomRefresher",!0)},refresherFps:{type:[Number,String],default:Xe.gc("refresherFps",40)},refresherMaxAngle:{type:[Number,String],default:Xe.gc("refresherMaxAngle",40)},refresherAngleEnableChangeContinued:{type:Boolean,default:Xe.gc("refresherAngleEnableChangeContinued",!1)},refresherDefaultText:{type:[String,Object],default:Xe.gc("refresherDefaultText",null)},refresherPullingText:{type:[String,Object],default:Xe.gc("refresherPullingText",null)},refresherRefreshingText:{type:[String,Object],default:Xe.gc("refresherRefreshingText",null)},refresherCompleteText:{type:[String,Object],default:Xe.gc("refresherCompleteText",null)},refresherGoF2Text:{type:[String,Object],default:Xe.gc("refresherGoF2Text",null)},refresherDefaultImg:{type:String,default:Xe.gc("refresherDefaultImg",null)},refresherPullingImg:{type:String,default:Xe.gc("refresherPullingImg",null)},refresherRefreshingImg:{type:String,default:Xe.gc("refresherRefreshingImg",null)},refresherCompleteImg:{type:String,default:Xe.gc("refresherCompleteImg",null)},refresherRefreshingAnimated:{type:Boolean,default:Xe.gc("refresherRefreshingAnimated",!0)},refresherEndBounceEnabled:{type:Boolean,default:Xe.gc("refresherEndBounceEnabled",!0)},refresherEnabled:{type:Boolean,default:Xe.gc("refresherEnabled",!0)},refresherThreshold:{type:[Number,String],default:Xe.gc("refresherThreshold","80rpx")},refresherDefaultStyle:{type:String,default:Xe.gc("refresherDefaultStyle","black")},refresherBackground:{type:String,default:Xe.gc("refresherBackground","transparent")},refresherFixedBackground:{type:String,default:Xe.gc("refresherFixedBackground","transparent")},refresherFixedBacHeight:{type:[Number,String],default:Xe.gc("refresherFixedBacHeight",0)},refresherOutRate:{type:Number,default:Xe.gc("refresherOutRate",.65)},refresherF2Enabled:{type:Boolean,default:Xe.gc("refresherF2Enabled",!1)},refresherF2Threshold:{type:[Number,String],default:Xe.gc("refresherF2Threshold","200rpx")},refresherF2Duration:{type:[Number,String],default:Xe.gc("refresherF2Duration",200)},showRefresherF2:{type:Boolean,default:Xe.gc("showRefresherF2",!0)},refresherPullRate:{type:Number,default:Xe.gc("refresherPullRate",.75)},showRefresherUpdateTime:{type:Boolean,default:Xe.gc("showRefresherUpdateTime",!1)},refresherUpdateTimeKey:{type:String,default:Xe.gc("refresherUpdateTimeKey","default")},refresherVibrate:{type:Boolean,default:Xe.gc("refresherVibrate",!1)},refresherNoTransform:{type:Boolean,default:Xe.gc("refresherNoTransform",!1)},useRefresherStatusBarPlaceholder:{type:Boolean,default:Xe.gc("useRefresherStatusBarPlaceholder",!1)}},data:()=>({R:dt.Refresher,refresherStatus:dt.Refresher.Default,refresherTouchstartY:0,lastRefresherTouchmove:null,refresherReachMaxAngle:!0,refresherTransform:"translateY(0px)",refresherTransition:"",finalRefresherDefaultStyle:"black",refresherRevealStackCount:0,refresherCompleteTimeout:null,refresherCompleteSubTimeout:null,refresherEndTimeout:null,isTouchmovingTimeout:null,refresherTriggered:!1,isTouchmoving:!1,isTouchEnded:!1,isUserPullDown:!1,privateRefresherEnabled:-1,privateShowRefresherWhenReload:!1,customRefresherHeight:-1,showCustomRefresher:!1,doRefreshAnimateAfter:!1,isRefresherInComplete:!1,showF2:!1,f2Transform:"",pullDownTimeStamp:0,moveDis:0,oldMoveDis:0,currentDis:0,oldCurrentMoveDis:0,oldRefresherTouchmoveY:0,oldTouchDirection:"",oldEmitedTouchDirection:"",oldPullingDistance:-1,refresherThresholdUpdateTag:0}),watch:{refresherDefaultStyle:{handler(e){e.length&&(this.finalRefresherDefaultStyle=e)},immediate:!0},refresherStatus(e){e===dt.Refresher.Loading&&this._cleanRefresherEndTimeout(),this.refresherVibrate&&(e===dt.Refresher.ReleaseToRefresh||e===dt.Refresher.GoF2)&&this._doVibrateShort(),this.$emit("refresherStatusChange",e),this.$emit("update:refresherStatus",e)},refresherEnabled(e){!e&&this.endRefresh()}},computed:{pullDownDisTimeStamp(){return 1e3/this.refresherFps},refresherThresholdUnitConverted(){return Xe.addUnit(this.refresherThreshold,this.unit)},finalRefresherEnabled(){return!this.layoutOnly&&!this.useChatRecordMode&&(-1===this.privateRefresherEnabled?this.refresherEnabled:1===this.privateRefresherEnabled)},finalRefresherThreshold(){let e=this.refresherThresholdUnitConverted,t=!1;return e===Xe.addUnit(80,this.unit)&&(t=!0,this.showRefresherUpdateTime&&(e=Xe.addUnit(120,this.unit))),t&&this.customRefresherHeight>0?this.customRefresherHeight+this.finalRefresherThresholdPlaceholder:Xe.convertToPx(e)+this.finalRefresherThresholdPlaceholder},finalRefresherF2Threshold(){return Xe.convertToPx(Xe.addUnit(this.refresherF2Threshold,this.unit))},finalRefresherThresholdPlaceholder(){return this.useRefresherStatusBarPlaceholder?this.statusBarHeight:0},finalRefresherFixedBacHeight(){return Xe.convertToPx(this.refresherFixedBacHeight)},finalRefresherThemeStyle(){return this.refresherThemeStyle.length?this.refresherThemeStyle:this.defaultThemeStyle},finalRefresherOutRate(){let e=this.refresherOutRate;return e=Math.max(0,e),e=Math.min(1,e),e},finalRefresherPullRate(){let e=this.refresherPullRate;return e=Math.max(0,e),e},finalRefresherTransform(){return this.refresherNoTransform||"translateY(0px)"===this.refresherTransform?"none":this.refresherTransform},finalShowRefresherWhenReload(){return this.showRefresherWhenReload||this.privateShowRefresherWhenReload},finalRefresherTriggered(){return!(!this.finalRefresherEnabled||this.useCustomRefresher)&&this.refresherTriggered},showRefresher(){const e=this.finalRefresherEnabled||this.useCustomRefresher&&!this.useChatRecordMode;return this.active&&-1===this.customRefresherHeight&&e&&this.updateCustomRefresherHeight(),e},hasTouchmove(){return this.watchRefresherTouchmove}},methods:{endRefresh(){this.totalData=this.realTotalData,this._refresherEnd(),this._endSystemLoadingAndRefresh(),this._handleScrollViewBounce({bounce:!0}),this.$nextTick(()=>{this.refresherTriggered=!1})},updateCustomRefresherHeight(){Xe.delay(()=>this.$nextTick(this._updateCustomRefresherHeight))},goF2(){this._handleGoF2()},closeF2(){this._handleCloseF2()},_onRefresh(e=!1,t=!0){(!e||this.finalRefresherEnabled&&!this.useCustomRefresher)&&(this.$emit("onRefresh"),this.$emit("Refresh"),this.loading||this.isRefresherInComplete||(this.loadingType=dt.LoadingType.Refresher,this.nShowRefresherReveal||(this.isUserPullDown=t,this.isUserReload=!t,this._startLoading(!0),this.refresherTriggered=!0,this.reloadWhenRefresh&&t&&(this.useChatRecordMode?this._onLoadingMore("click"):this._reload(!1,!1,t)))))},_onRestore(){this.refresherTriggered="restore",this.$emit("onRestore"),this.$emit("Restore")},_handleRefresherTouchstart(e){!this.loading&&this.isTouchEnded&&(this.isTouchmoving=!1),this.loadingType=dt.LoadingType.Refresher,this.isTouchmovingTimeout&&clearTimeout(this.isTouchmovingTimeout),this.isTouchEnded=!1,this.refresherTransition="",this.refresherTouchstartY=e.touchY,this.$emit("refresherTouchstart",this.refresherTouchstartY),this.lastRefresherTouchmove=e,this._cleanRefresherCompleteTimeout(),this._cleanRefresherEndTimeout()},_handleRefresherTouchmove(e,t){this.refresherReachMaxAngle=!0,this.isTouchmovingTimeout&&clearTimeout(this.isTouchmovingTimeout),this.isTouchmoving=!0,this.isTouchEnded=!1,e>=this.finalRefresherThreshold?this.refresherStatus=this.refresherF2Enabled&&e>=this.finalRefresherF2Threshold?dt.Refresher.GoF2:dt.Refresher.ReleaseToRefresh:this.refresherStatus=dt.Refresher.Default,this.moveDis=e},_handleRefresherTouchend(e){this.isTouchmovingTimeout&&clearTimeout(this.isTouchmovingTimeout),this.refresherReachMaxAngle=!0,this.isTouchEnded=!0;const t=this.finalRefresherThreshold;e>=t&&[dt.Refresher.ReleaseToRefresh,dt.Refresher.GoF2].indexOf(this.refresherStatus)>=0?this.refresherStatus===dt.Refresher.GoF2?(this._handleGoF2(),this._refresherEnd()):(Xe.delay(()=>{this._emitTouchmove({pullingDistance:t,dy:this.moveDis-t})},.1),this.moveDis=t,this.refresherStatus=dt.Refresher.Loading,this._doRefresherLoad()):(this._refresherEnd(),this.isTouchmovingTimeout=Xe.delay(()=>{this.isTouchmoving=!1},this.refresherDefaultDuration)),this.scrollEnable=!0,this.$emit("refresherTouchend",e)},_handleListTouchstart(){this.useChatRecordMode&&this.autoHideKeyboardWhenChat&&(he(),this.$emit("hidedKeyboard"))},_handleScrollViewBounce({bounce:e}){this.usePageScroll||this.scrollToTopBounceEnabled||(this.wxsScrollTop<=5?(this.refresherTransition="",this.scrollEnable=e):e&&(this.scrollEnable=e))},_handleWxsPullingDownStatusChange(e){this.wxsOnPullingDown=e,e&&!this.useChatRecordMode&&(this.renderPropScrollTop=0)},_handleWxsPullingDown({moveDis:e,diffDis:t}){this._emitTouchmove({pullingDistance:e,dy:t})},_handleTouchDirectionChange({direction:e}){this.$emit("touchDirectionChange",e)},_handlePropUpdate(){this.wxsPropType=Xe.getTime().toString()},_refresherEnd(e=!0,t=!1,i=!1,a=!0){if(this.loadingType===dt.LoadingType.Refresher){const e=t&&(i||this.finalShowRefresherWhenReload)?this.refresherCompleteDelay:0,a=e>0?dt.Refresher.Complete:dt.Refresher.Default;if(this.finalShowRefresherWhenReload){const e=this.refresherRevealStackCount;if(this.refresherRevealStackCount--,e>1)return}this._cleanRefresherEndTimeout(),this.refresherEndTimeout=Xe.delay(()=>{this.refresherStatus=a,a!==dt.Refresher.Complete&&(this.isRefresherInComplete=!1)},this.refresherStatus!==dt.Refresher.Default&&a===dt.Refresher.Default?this.refresherCompleteDuration:0),e>0&&(this.isRefresherInComplete=!0),this._cleanRefresherCompleteTimeout(),this.refresherCompleteTimeout=Xe.delay(()=>{let e=1;const i=this.refresherEndBounceEnabled&&t?"cubic-bezier(0.19,1.64,0.42,0.72)":"linear";t&&(e=this.refresherEndBounceEnabled?this.refresherCompleteDuration/1e3:this.refresherCompleteDuration/3e3),this.refresherTransition=`transform ${t?e:this.refresherDefaultDuration/1e3}s ${i}`,this.wxsPropType=this.refresherTransition+"end"+Xe.getTime(),this.moveDis=0,a===dt.Refresher.Complete&&(this.refresherCompleteSubTimeout&&(clearTimeout(this.refresherCompleteSubTimeout),this.refresherCompleteSubTimeout=null),this.refresherCompleteSubTimeout=Xe.delay(()=>{this.$nextTick(()=>{this.refresherStatus=dt.Refresher.Default,this.isRefresherInComplete=!1})},800*e)),this._emitTouchmove({pullingDistance:0,dy:this.moveDis})},e)}a&&(Xe.delay(()=>this.loading=!1,e?10:0),i&&this._onRestore())},_handleGoF2(){!this.showF2&&this.refresherF2Enabled&&(this.$emit("refresherF2Change","go"),this.showRefresherF2&&(this.f2Transform=`translateY(${-this.superContentHeight}px)`,this.showF2=!0,Xe.delay(()=>{this.f2Transform="translateY(0px)"},100,"f2ShowDelay")))},_handleCloseF2(){this.showF2&&this.refresherF2Enabled&&(this.$emit("refresherF2Change","close"),this.showRefresherF2&&(this.f2Transform=`translateY(${-this.superContentHeight}px)`,Xe.delay(()=>{this.showF2=!1,this.nF2Opacity=0},this.refresherF2Duration,"f2CloseDelay")))},_doRefresherRefreshAnimate(){this._cleanRefresherCompleteTimeout();!this.doRefreshAnimateAfter&&this.finalShowRefresherWhenReload&&-1===this.customRefresherHeight&&this.refresherThreshold===Xe.addUnit(80,this.unit)?this.doRefreshAnimateAfter=!0:(this.refresherRevealStackCount++,this.wxsPropType="begin"+Xe.getTime(),this.moveDis=this.finalRefresherThreshold,this.refresherStatus=dt.Refresher.Loading,this.isTouchmoving=!0,this.isTouchmovingTimeout&&clearTimeout(this.isTouchmovingTimeout),this._doRefresherLoad(!1))},_doRefresherLoad(e=!0){this._onRefresh(!1,e),this.loading=!0},_updateCustomRefresherHeight(){this._getNodeClientRect(".zp-custom-refresher-slot-view").then(e=>{this.customRefresherHeight=e?e[0].height:0,this.showCustomRefresher=this.customRefresherHeight>0,this.doRefreshAnimateAfter&&(this.doRefreshAnimateAfter=!1,this._doRefresherRefreshAnimate())})},_emitTouchmove(e){e.viewHeight=this.finalRefresherThreshold,e.rate=e.viewHeight>0?e.pullingDistance/e.viewHeight:0,this.hasTouchmove&&this.oldPullingDistance!==e.pullingDistance&&this.$emit("refresherTouchmove",e),this.oldPullingDistance=e.pullingDistance},_cleanRefresherCompleteTimeout(){this.refresherCompleteTimeout=this._cleanTimeout(this.refresherCompleteTimeout)},_cleanRefresherEndTimeout(){this.refresherEndTimeout=this._cleanTimeout(this.refresherEndTimeout)}}},Lt={props:{loadingMoreCustomStyle:{type:Object,default:Xe.gc("loadingMoreCustomStyle",{})},loadingMoreTitleCustomStyle:{type:Object,default:Xe.gc("loadingMoreTitleCustomStyle",{})},loadingMoreLoadingIconCustomStyle:{type:Object,default:Xe.gc("loadingMoreLoadingIconCustomStyle",{})},loadingMoreLoadingIconType:{type:String,default:Xe.gc("loadingMoreLoadingIconType","flower")},loadingMoreLoadingIconCustomImage:{type:String,default:Xe.gc("loadingMoreLoadingIconCustomImage","")},loadingMoreLoadingAnimated:{type:Boolean,default:Xe.gc("loadingMoreLoadingAnimated",!0)},loadingMoreEnabled:{type:Boolean,default:Xe.gc("loadingMoreEnabled",!0)},toBottomLoadingMoreEnabled:{type:Boolean,default:Xe.gc("toBottomLoadingMoreEnabled",!0)},loadingMoreDefaultAsLoading:{type:Boolean,default:Xe.gc("loadingMoreDefaultAsLoading",!1)},loadingMoreDefaultText:{type:[String,Object],default:Xe.gc("loadingMoreDefaultText",null)},loadingMoreLoadingText:{type:[String,Object],default:Xe.gc("loadingMoreLoadingText",null)},loadingMoreNoMoreText:{type:[String,Object],default:Xe.gc("loadingMoreNoMoreText",null)},loadingMoreFailText:{type:[String,Object],default:Xe.gc("loadingMoreFailText",null)},hideNoMoreInside:{type:Boolean,default:Xe.gc("hideNoMoreInside",!1)},hideNoMoreByLimit:{type:Number,default:Xe.gc("hideNoMoreByLimit",0)},showDefaultLoadingMoreText:{type:Boolean,default:Xe.gc("showDefaultLoadingMoreText",!0)},showLoadingMoreNoMoreView:{type:Boolean,default:Xe.gc("showLoadingMoreNoMoreView",!0)},showLoadingMoreNoMoreLine:{type:Boolean,default:Xe.gc("showLoadingMoreNoMoreLine",!0)},loadingMoreNoMoreLineCustomStyle:{type:Object,default:Xe.gc("loadingMoreNoMoreLineCustomStyle",{})},insideMore:{type:Boolean,default:Xe.gc("insideMore",!1)},lowerThreshold:{type:[Number,String],default:Xe.gc("lowerThreshold","100rpx")}},data:()=>({M:dt.More,loadingStatus:dt.More.Default,loadingStatusAfterRender:dt.More.Default,loadingMoreTimeStamp:0,loadingMoreDefaultSlot:null,showLoadingMore:!1,customNoMore:-1}),computed:{zLoadMoreConfig(){return{status:this.loadingStatusAfterRender,defaultAsLoading:this.loadingMoreDefaultAsLoading||this.useChatRecordMode&&this.chatLoadingMoreDefaultAsLoading,defaultThemeStyle:this.finalLoadingMoreThemeStyle,customStyle:this.loadingMoreCustomStyle,titleCustomStyle:this.loadingMoreTitleCustomStyle,iconCustomStyle:this.loadingMoreLoadingIconCustomStyle,loadingIconType:this.loadingMoreLoadingIconType,loadingIconCustomImage:this.loadingMoreLoadingIconCustomImage,loadingAnimated:this.loadingMoreLoadingAnimated,showNoMoreLine:this.showLoadingMoreNoMoreLine,noMoreLineCustomStyle:this.loadingMoreNoMoreLineCustomStyle,defaultText:this.finalLoadingMoreDefaultText,loadingText:this.finalLoadingMoreLoadingText,noMoreText:this.finalLoadingMoreNoMoreText,failText:this.finalLoadingMoreFailText,hideContent:!this.loadingMoreDefaultAsLoading&&this.listRendering,unit:this.unit,isChat:this.useChatRecordMode,chatDefaultAsLoading:this.chatLoadingMoreDefaultAsLoading}},finalLoadingMoreThemeStyle(){return this.loadingMoreThemeStyle.length?this.loadingMoreThemeStyle:this.defaultThemeStyle},finalLowerThreshold(){return Xe.convertToPx(this.lowerThreshold)},showLoadingMoreDefault(){return this._showLoadingMore("Default")},showLoadingMoreLoading(){return this._showLoadingMore("Loading")},showLoadingMoreNoMore(){return this._showLoadingMore("NoMore")},showLoadingMoreFail(){return this._showLoadingMore("Fail")},showLoadingMoreCustom(){return this._showLoadingMore("Custom")},loadingMoreFixedHeight(){return Xe.addUnit("80rpx",this.unit)}},methods:{pageReachBottom(){!this.useChatRecordMode&&this.toBottomLoadingMoreEnabled&&this._onLoadingMore("toBottom")},doLoadMore(e){this._onLoadingMore(e)},_checkScrolledToBottom(e,t=!1){-1===this.cacheScrollNodeHeight?this._getNodeClientRect(".zp-scroll-view").then(t=>{if(t){const i=t[0].height;this.cacheScrollNodeHeight=i,e-i<=this.finalLowerThreshold&&this._onLoadingMore("toBottom")}}):(e-this.cacheScrollNodeHeight<=this.finalLowerThreshold?this._onLoadingMore("toBottom"):e-this.cacheScrollNodeHeight<=500&&!t&&Xe.delay(()=>{this._getNodeClientRect(".zp-scroll-view",!0,!0).then(e=>{if(e){this.oldScrollTop=e[0].scrollTop;const t=e[0].scrollHeight-this.oldScrollTop;this._checkScrolledToBottom(t,!0)}})},150,"checkScrolledToBottomDelay"),this.oldScrollTop<=150&&0!==this.oldScrollTop&&Xe.delay(()=>{0!==this.oldScrollTop&&this._getNodeClientRect(".zp-scroll-view",!0,!0).then(e=>{e&&0===e[0].scrollTop&&0!==this.oldScrollTop&&this._onScrollToUpper()})},150,"checkScrolledToTopDelay"))},_onLoadingMore(e="click"){this.isIos&&"toBottom"===e&&!this.scrollToBottomBounceEnabled&&this.scrollEnable&&(this.scrollEnable=!1,this.$nextTick(()=>{this.scrollEnable=!0})),this._emitScrollEvent("scrolltolower"),this.isOnly||!this.loadingMoreEnabled||this.loadingStatus!==dt.More.Default&&this.loadingStatus!==dt.More.Fail||this.loading||this.showEmpty||this._doLoadingMore()},_doLoadingMore(){this.pageNo>=this.defaultPageNo&&this.loadingStatus!==dt.More.NoMore&&(this.pageNo++,this._startLoading(!1),this.isLocalPaging?this._localPagingQueryList(this.pageNo,this.defaultPageSize,this.localPagingLoadingTime,e=>{this.completeByTotal(e,this.totalLocalPagingList.length),this.queryFrom=dt.QueryFrom.LoadMore}):(this._emitQuery(this.pageNo,this.defaultPageSize,dt.QueryFrom.LoadMore),this._callMyParentQuery()),this.loadingType=dt.LoadingType.LoadMore)},_preCheckShowNoMoreInside(e,t,i){this.loadingStatus===dt.More.NoMore&&this.hideNoMoreByLimit>0&&e.length?this.showLoadingMore=e.length>this.hideNoMoreByLimit:this.loadingStatus===dt.More.NoMore&&this.hideNoMoreInside&&e.length||this.insideMore&&!1!==this.insideOfPaging&&e.length?(this.$nextTick(()=>{this._checkShowNoMoreInside(e,t,i)}),this.insideMore&&!1!==this.insideOfPaging&&e.length&&(this.showLoadingMore=e.length)):this.showLoadingMore=e.length},async _checkShowNoMoreInside(e,t,i){try{const e=t||await this._getNodeClientRect(".zp-scroll-view");if(this.usePageScroll){if(e){const t=e[0].top+e[0].height;this.insideOfPaging=t<this.windowHeight,this.hideNoMoreInside&&(this.showLoadingMore=!this.insideOfPaging),this._updateInsideOfPaging()}}else{const t=i||await this._getNodeClientRect(".zp-paging-container-content"),a=t?t[0].height:0,o=e?e[0].height:0;this.insideOfPaging=a<o,this.hideNoMoreInside&&(this.showLoadingMore=!this.insideOfPaging),this._updateInsideOfPaging()}}catch(a){this.insideOfPaging=!e.length,this.hideNoMoreInside&&(this.showLoadingMore=!this.insideOfPaging),this._updateInsideOfPaging()}},_showLoadingMore(e){if(!this.showLoadingMoreWhenReload&&(this.loadingStatus===dt.More.Default&&!this.nShowBottom||!this.realTotalData.length))return!1;if((!this.showLoadingMoreWhenReload||this.isUserPullDown||this.loadingStatus!==dt.More.Loading)&&!this.showLoadingMore||!this.loadingMoreEnabled&&(!this.showLoadingMoreWhenReload||this.isUserPullDown||this.loadingStatus!==dt.More.Loading)||this.isOnly)return!1;if(this.useChatRecordMode&&"Loading"!==e)return!1;if(!this.zSlots)return!1;if("Custom"===e)return this.showDefaultLoadingMoreText&&!(this.loadingStatus===dt.More.NoMore&&!this.showLoadingMoreNoMoreView);return this.loadingStatus===dt.More[e]&&this.zSlots[`loadingMore${e}`]&&("NoMore"!==e||this.showLoadingMoreNoMoreView)}}},kt={props:{autoHideLoadingAfterFirstLoaded:{type:Boolean,default:Xe.gc("autoHideLoadingAfterFirstLoaded",!0)},loadingFullFixed:{type:Boolean,default:Xe.gc("loadingFullFixed",!1)},autoShowSystemLoading:{type:Boolean,default:Xe.gc("autoShowSystemLoading",!1)},systemLoadingMask:{type:Boolean,default:Xe.gc("systemLoadingMask",!0)},systemLoadingText:{type:[String,Object],default:Xe.gc("systemLoadingText",null)}},data:()=>({loading:!1,loadingForNow:!1}),watch:{loadingStatus(e){this.$emit("loadingStatusChange",e),this.$nextTick(()=>{this.loadingStatusAfterRender=e}),!this.useChatRecordMode||!this.isFirstPage||e!==dt.More.NoMore&&e!==dt.More.Fail?this.isFirstPageAndNoMore=!1:this.isFirstPageAndNoMore=!0},loading(e){e&&(this.loadingForNow=e)}},computed:{showLoading(){return!(this.firstPageLoaded||!this.loading||!this.loadingForNow)&&(this.finalShowSystemLoading&&ue({title:this.finalSystemLoadingText,mask:this.systemLoadingMask}),this.autoHideLoadingAfterFirstLoaded?!!this.fromEmptyViewReload||!this.pagingLoaded:this.loadingType===dt.LoadingType.Refresher)},finalShowSystemLoading(){return this.autoShowSystemLoading&&this.loadingType===dt.LoadingType.Refresher}},methods:{_startLoading(e=!1){(this.showLoadingMoreWhenReload&&!this.isUserPullDown||!e)&&(this.loadingStatus=dt.More.Loading),this.loading=!0},_endSystemLoadingAndRefresh(){this.finalShowSystemLoading&&de(),!this.useCustomRefresher&&ce()}}},Dt={props:{useChatRecordMode:{type:Boolean,default:Xe.gc("useChatRecordMode",!1)},chatRecordMoreOffset:{type:[Number,String],default:Xe.gc("chatRecordMoreOffset","0rpx")},autoHideKeyboardWhenChat:{type:Boolean,default:Xe.gc("autoHideKeyboardWhenChat",!0)},autoAdjustPositionWhenChat:{type:Boolean,default:Xe.gc("autoAdjustPositionWhenChat",!0)},chatAdjustPositionOffset:{type:[Number,String],default:Xe.gc("chatAdjustPositionOffset","0rpx")},autoToBottomWhenChat:{type:Boolean,default:Xe.gc("autoToBottomWhenChat",!1)},showChatLoadingWhenReload:{type:Boolean,default:Xe.gc("showChatLoadingWhenReload",!1)},chatLoadingMoreDefaultAsLoading:{type:Boolean,default:Xe.gc("chatLoadingMoreDefaultAsLoading",!0)}},data:()=>({keyboardHeight:0,isKeyboardHeightChanged:!1}),computed:{finalChatRecordMoreOffset(){return Xe.convertToPx(this.chatRecordMoreOffset)},finalChatAdjustPositionOffset(){return Xe.convertToPx(this.chatAdjustPositionOffset)},chatRecordRotateStyle(){let e;return e=this.useChatRecordMode?{transform:"scaleY(-1)"}:{},this.$emit("update:cellStyle",e),this.$emit("cellStyleChange",e),this.$nextTick(()=>{this.isFirstPage&&this.isChatRecordModeAndNotInversion&&this.$nextTick(()=>{this._scrollToBottom(!1),Xe.delay(()=>{this._scrollToBottom(!1),Xe.delay(()=>{this._scrollToBottom(!1)},50)},50)})}),e},isChatRecordModeHasTransform(){return this.useChatRecordMode&&this.chatRecordRotateStyle&&this.chatRecordRotateStyle.transform},isChatRecordModeAndNotInversion(){return this.isChatRecordModeHasTransform&&"scaleY(1)"===this.chatRecordRotateStyle.transform},isChatRecordModeAndInversion(){return this.isChatRecordModeHasTransform&&"scaleY(-1)"===this.chatRecordRotateStyle.transform},chatRecordModeSafeAreaBottom(){return this.safeAreaInsetBottom&&!this.keyboardHeight?this.safeAreaBottom:0}},mounted(){this.addKeyboardHeightChangeListener()},methods:{addChatRecordData(e,t=!0,i=!0){this.useChatRecordMode&&(this.isTotalChangeFromAddData=!0,this.addDataFromTop(e,t,i))},doChatRecordLoadMore(){this.useChatRecordMode&&this._onLoadingMore("click")},addKeyboardHeightChangeListener(){},_handleKeyboardHeightChange(e){this.$emit("keyboardHeightChange",e),this.autoAdjustPositionWhenChat&&(this.isKeyboardHeightChanged=!0,this.keyboardHeight=e.height>0?e.height+this.finalChatAdjustPositionOffset:e.height),this.autoToBottomWhenChat&&this.keyboardHeight>0&&Xe.delay(()=>{this.scrollToBottom(!1),Xe.delay(()=>{this.scrollToBottom(!1)})})}}},Vt={props:{usePageScroll:{type:Boolean,default:Xe.gc("usePageScroll",!1)},scrollable:{type:Boolean,default:Xe.gc("scrollable",!0)},showScrollbar:{type:Boolean,default:Xe.gc("showScrollbar",!0)},scrollX:{type:Boolean,default:Xe.gc("scrollX",!1)},scrollToTopBounceEnabled:{type:Boolean,default:Xe.gc("scrollToTopBounceEnabled",!1)},scrollToBottomBounceEnabled:{type:Boolean,default:Xe.gc("scrollToBottomBounceEnabled",!0)},scrollWithAnimation:{type:Boolean,default:Xe.gc("scrollWithAnimation",!1)},scrollIntoView:{type:String,default:Xe.gc("scrollIntoView","")},inSwiperSlot:{type:Boolean,default:!1}},data:()=>({scrollTop:0,oldScrollTop:0,scrollLeft:0,oldScrollLeft:0,scrollViewStyle:{},scrollViewContainerStyle:{},scrollViewInStyle:{},pageScrollTop:-1,scrollEnable:!0,privateScrollWithAnimation:-1,cacheScrollNodeHeight:-1,superContentHeight:0,lastScrollHeight:0,lastScrollDirection:"",setContentHeightPending:!1}),watch:{oldScrollTop(e){!this.usePageScroll&&this._scrollTopChange(e,!1)},pageScrollTop(e){this.usePageScroll&&this._scrollTopChange(e,!0)},usePageScroll:{handler(e){this.loaded&&this.autoHeight&&this._setAutoHeight(!e),e&&this.$nextTick(()=>{const e=this.$refs["zp-scroll-view"].$refs.main;e&&(e.style={})})},immediate:!0},finalScrollTop(e){this.renderPropScrollTop=e<6?0:10}},computed:{finalScrollWithAnimation(){return-1!==this.privateScrollWithAnimation?1===this.privateScrollWithAnimation:this.scrollWithAnimation},finalScrollViewStyle(){return 1!=this.superContentZIndex&&(this.scrollViewStyle["z-index"]=this.superContentZIndex,this.scrollViewStyle.position="relative"),this.scrollViewStyle},finalScrollTop(){return this.usePageScroll?this.pageScrollTop:this.oldScrollTop},finalIsOldWebView(){return this.isOldWebView&&!this.usePageScroll},finalScrollable(){return this.scrollable&&!this.usePageScroll&&this.scrollEnable&&(!!this.refresherCompleteScrollable||this.refresherStatus!==dt.Refresher.Complete)&&(!!this.refresherRefreshingScrollable||this.refresherStatus!==dt.Refresher.Loading)}},methods:{scrollToTop(e,t=!0){this.useChatRecordMode&&t&&!this.isChatRecordModeAndNotInversion?this.scrollToBottom(e,!1):this.$nextTick(()=>{this._scrollToTop(e,!1)})},scrollToBottom(e,t=!0){this.useChatRecordMode&&t&&!this.isChatRecordModeAndNotInversion?this.scrollToTop(e,!1):this.$nextTick(()=>{this._scrollToBottom(e)})},scrollIntoViewById(e,t,i){this._scrollIntoView(e,t,i)},scrollIntoViewByNodeTop(e,t,i){this.scrollTop=this.oldScrollTop,this.$nextTick(()=>{this._scrollIntoViewByNodeTop(e,t,i)})},scrollToY(e,t,i){this.scrollTop=this.oldScrollTop,this.$nextTick(()=>{this._scrollToY(e,t,i)})},scrollToX(e,t,i){this.scrollLeft=this.oldScrollLeft,this.$nextTick(()=>{this._scrollToX(e,t,i)})},scrollIntoViewByIndex(e,t,i){e>=this.realTotalData.length?Xe.consoleErr("当前滚动的index超出已渲染列表长度，请先通过refreshToPage加载到对应index页并等待渲染成功后再调用此方法！"):this.$nextTick(()=>{if(this.finalUseVirtualList){const a=this.cellHeightMode===dt.CellHeightMode.Fixed;Xe.delay(()=>{if(this.finalUseVirtualList){const o=a?this.virtualCellHeight*e:this.virtualHeightCacheList[e].lastTotalHeight;this.scrollToY(o,t,i)}},a?0:100)}})},scrollIntoViewByView(e,t,i){this._scrollIntoView(e,t,i)},updatePageScrollTop(e){this.pageScrollTop=e},updatePageScrollTopHeight(){this._updatePageScrollTopOrBottomHeight("top")},updatePageScrollBottomHeight(){this._updatePageScrollTopOrBottomHeight("bottom")},updateLeftAndRightWidth(){this.finalIsOldWebView&&this.$nextTick(()=>this._updateLeftAndRightWidth(this.scrollViewContainerStyle,"zp-page"))},updateScrollViewScrollTop(e,t=!0){this._updatePrivateScrollWithAnimation(t),this.scrollTop=this.oldScrollTop,this.$nextTick(()=>{this.scrollTop=e,this.oldScrollTop=this.scrollTop})},_onScrollToUpper(){this._emitScrollEvent("scrolltoupper"),this.$emit("scrollTopChange",0),this.$nextTick(()=>{this.oldScrollTop=0})},_onScrollToLower(e){(!e.detail||!e.detail.direction||"bottom"===e.detail.direction)&&this.toBottomLoadingMoreEnabled&&this._onLoadingMore(this.useChatRecordMode?"click":"toBottom")},_scrollToTop(e=!0,t=!0){this.usePageScroll?this.$nextTick(()=>{ge({scrollTop:0,duration:e?100:0})}):(this._updatePrivateScrollWithAnimation(e),this.scrollTop=this.oldScrollTop,this.$nextTick(()=>{this.scrollTop=0,this.oldScrollTop=this.scrollTop}),Xe.delay(()=>{this.scrollTop=this.oldScrollTop,this.$nextTick(()=>{this.scrollTop=0,this.oldScrollTop=this.scrollTop})},500))},async _scrollToBottom(e=!0){if(this.usePageScroll)this.$nextTick(()=>{ge({scrollTop:Number.MAX_VALUE,duration:e?100:0})});else try{this._updatePrivateScrollWithAnimation(e);const t=await this._getNodeClientRect(".zp-paging-container"),i=await this._getNodeClientRect(".zp-scroll-view"),a=t?t[0].height:0,o=i?i[0].height:0;a>o&&(this.scrollTop=this.oldScrollTop,this.$nextTick(()=>{this.scrollTop=a-o+this.virtualPlaceholderTopHeight,this.oldScrollTop=this.scrollTop}))}catch(t){}},_scrollIntoView(e,t=0,i=!1,a){try{this.scrollTop=this.oldScrollTop,this.$nextTick(()=>{this._getNodeClientRect("#"+e.replace("#",""),!1).then(o=>{o?this._getNodeClientRect(".zp-scroll-view-container").then(e=>{e&&(this._scrollIntoViewByNodeTop(o[0].top-e[0].top,t,i),a&&a())}):Xe.consoleErr(`无法获取${e}的节点信息，请检查！`)})})}catch(o){}},_scrollIntoViewByNodeTop(e,t=0,i=!1){this.isChatRecordModeAndInversion?this._getNodeClientRect(".zp-scroll-view").then(a=>{a&&this._scrollToY(a[0].height-e,t,i,!0)}):this._scrollToY(e,t,i,!0)},_scrollToY(e,t=0,i=!1,a=!1){this._updatePrivateScrollWithAnimation(i),Xe.delay(()=>{if(this.usePageScroll){a&&-1!==this.pageScrollTop&&(e+=this.pageScrollTop);ge({scrollTop:e-t,duration:i?100:0})}else a&&(e+=this.oldScrollTop),this.scrollTop=e-t},10)},_scrollToX(e,t=0,i=!1){this._updatePrivateScrollWithAnimation(i),Xe.delay(()=>{this.usePageScroll?Xe.consoleErr("使用页面滚动时不支持scrollToX"):this.scrollLeft=e-t},10)},_scroll(e){this.$emit("scroll",e);const{scrollTop:t,scrollLeft:i,scrollHeight:a}=e.detail;if(this.watchScrollDirectionChange){let e=this.oldScrollTop>t?"top":"bottom";(t<=0||!this.scrollEnable)&&(e="top"),t>this.lastScrollHeight-this.scrollViewHeight-1&&this.scrollEnable&&(e="bottom"),e!==this.lastScrollDirection&&(this.$emit("scrollDirectionChange",e),this.lastScrollDirection=e),this.lastScrollHeight===a||this.setContentHeightPending||(this.setContentHeightPending=!0,Xe.delay(()=>{this.lastScrollHeight=a,this.setContentHeightPending=!1}))}if(this.finalUseVirtualList&&this._updateVirtualScroll(t,this.oldScrollTop-t),this.oldScrollTop=t,this.oldScrollLeft=i,!this.isIos){const t=e.detail.scrollHeight-this.oldScrollTop;this._checkScrolledToBottom(t)}},_emitScrollEvent(e){const t="scrolltolower"===e?"scrolltoupper":"scrolltolower",i=this.useChatRecordMode&&!this.isChatRecordModeAndNotInversion?t:e;this.$emit(i)},_updatePrivateScrollWithAnimation(e){this.privateScrollWithAnimation=e?1:0,Xe.delay(()=>this.$nextTick(()=>{this.privateScrollWithAnimation=-1}),100,"updateScrollWithAnimationDelay")},_doCheckScrollViewShouldFullHeight(e){this.autoFullHeight&&this.usePageScroll&&this.isTotalChangeFromAddData?this.$nextTick(()=>{this._checkScrollViewShouldFullHeight((t,i)=>{this._preCheckShowNoMoreInside(e,t,i)})}):this._preCheckShowNoMoreInside(e)},async _checkScrollViewShouldFullHeight(e){try{const t=await this._getNodeClientRect(".zp-scroll-view"),i=await this._getNodeClientRect(".zp-paging-container-content");if(!t||!i)return;const a=i[0].height,o=t[0].top;this.isAddedData&&a+o<=this.windowHeight?(this._setAutoHeight(!0,t),e(t,i)):(this._setAutoHeight(!1),e(null,null))}catch(t){e(null,null)}},async _updateCachedSuperContentHeight(){const e=await this._getNodeClientRect(".z-paging-content");e&&(this.superContentHeight=e[0].height)},_scrollTopChange(e,t){this.$emit("scrollTopChange",e),this.$emit("update:scrollTop",e),this._checkShouldShowBackToTop(e);const i=e>5?6:0;t&&this.wxsPageScrollTop!==i?this.wxsPageScrollTop=i:t||this.wxsScrollTop===i||(this.wxsScrollTop=i,i>6&&(this.scrollEnable=!0))},_updatePageScrollTopOrBottomHeight(e){if(!this.usePageScroll)return;this._doCheckScrollViewShouldFullHeight(this.realTotalData);const t=`.zp-page-${e}`,i=`margin${e.slice(0,1).toUpperCase()+e.slice(1)}`,a=this.safeAreaInsetBottom&&!this.zSlots.bottom&&!this.useSafeAreaPlaceholder;this.$nextTick(()=>{Xe.delay(()=>{this._getNodeClientRect(t).then(t=>{if(t){let o=t[0].height;"bottom"===e?a&&(o+=this.safeAreaBottom):this.cacheTopHeight=o,this.$set(this.scrollViewStyle,i,`${o}px`)}else a&&this.$set(this.scrollViewStyle,i,`${this.safeAreaBottom}px`)})},0)})}}},zt={props:{autoShowBackToTop:{type:Boolean,default:Xe.gc("autoShowBackToTop",!1)},backToTopThreshold:{type:[Number,String],default:Xe.gc("backToTopThreshold","400rpx")},backToTopImg:{type:String,default:Xe.gc("backToTopImg","")},backToTopWithAnimate:{type:Boolean,default:Xe.gc("backToTopWithAnimate",!0)},backToTopBottom:{type:[Number,String],default:Xe.gc("backToTopBottom","160rpx")},backToTopStyle:{type:Object,default:Xe.gc("backToTopStyle",{})},enableBackToTop:{type:Boolean,default:Xe.gc("enableBackToTop",!0)}},data:()=>({backToTopClass:"zp-back-to-top zp-back-to-top-hide",lastBackToTopShowTime:0,showBackToTopClass:!1}),computed:{backToTopThresholdUnitConverted(){return Xe.addUnit(this.backToTopThreshold,this.unit)},backToTopBottomUnitConverted(){return Xe.addUnit(this.backToTopBottom,this.unit)},finalEnableBackToTop(){return!this.usePageScroll&&this.enableBackToTop},finalBackToTopThreshold(){return Xe.convertToPx(this.backToTopThresholdUnitConverted)},finalBackToTopStyle(){const e=this.backToTopStyle;return e.bottom||(e.bottom=this.windowBottom+Xe.convertToPx(this.backToTopBottomUnitConverted)+"px"),e.position||(e.position=this.usePageScroll?"fixed":"absolute"),e},finalBackToTopClass(){return`${this.backToTopClass} zp-back-to-top-${this.unit}`}},methods:{_backToTopClick(){let e=!1;this.$emit("backToTopClick",t=>{(void 0===t||!0===t)&&this._handleToTop(),e=!0}),this.$nextTick(()=>{!e&&this._handleToTop()})},_handleToTop(){!this.backToTopWithAnimate&&this._checkShouldShowBackToTop(0),this.useChatRecordMode?this.scrollToBottom(this.backToTopWithAnimate):this.scrollToTop(this.backToTopWithAnimate)},_checkShouldShowBackToTop(e){this.autoShowBackToTop?e>this.finalBackToTopThreshold?this.showBackToTopClass||(this.showBackToTopClass=!0,this.lastBackToTopShowTime=(new Date).getTime(),Xe.delay(()=>{this.backToTopClass="zp-back-to-top zp-back-to-top-show"},300)):this.showBackToTopClass&&(this.backToTopClass="zp-back-to-top zp-back-to-top-hide",Xe.delay(()=>{this.showBackToTopClass=!1},(new Date).getTime()-this.lastBackToTopShowTime<500?0:300)):this.showBackToTopClass=!1}}},Nt={props:{useVirtualList:{type:Boolean,default:Xe.gc("useVirtualList",!1)},useCompatibilityMode:{type:Boolean,default:Xe.gc("useCompatibilityMode",!1)},extraData:{type:Object,default:Xe.gc("extraData",{})},useInnerList:{type:Boolean,default:Xe.gc("useInnerList",!1)},forceCloseInnerList:{type:Boolean,default:Xe.gc("forceCloseInnerList",!1)},cellKeyName:{type:String,default:Xe.gc("cellKeyName","")},innerListStyle:{type:Object,default:Xe.gc("innerListStyle",{})},innerCellStyle:{type:Object,default:Xe.gc("innerCellStyle",{})},preloadPage:{type:[Number,String],default:Xe.gc("preloadPage",12),validator:e=>(e<=0&&Xe.consoleErr("preload-page必须大于0！"),e>0)},cellHeightMode:{type:String,default:Xe.gc("cellHeightMode",dt.CellHeightMode.Fixed)},fixedCellHeight:{type:[Number,String],default:Xe.gc("fixedCellHeight",0)},virtualListCol:{type:[Number,String],default:Xe.gc("virtualListCol",1)},virtualScrollFps:{type:[Number,String],default:Xe.gc("virtualScrollFps",80)},virtualCellIdPrefix:{type:String,default:Xe.gc("virtualCellIdPrefix","")},virtualInSwiperSlot:{type:Boolean,default:!1}},data:()=>({virtualListKey:Xe.getInstanceId(),virtualCellHeight:0,virtualScrollTimeStamp:0,virtualList:[],virtualPlaceholderTopHeight:0,virtualPlaceholderBottomHeight:0,virtualTopRangeIndex:0,virtualBottomRangeIndex:0,lastVirtualTopRangeIndex:0,lastVirtualBottomRangeIndex:0,virtualItemInsertedCount:0,virtualHeightCacheList:[],getCellHeightRetryCount:{fixed:0,dynamic:0},updateVirtualListFromDataChange:!1}),watch:{realTotalData(){this.updateVirtualListRender()},virtualList(e){this.$emit("update:virtualList",e),this.$emit("virtualListChange",e)},virtualPlaceholderTopHeight(e){this.$emit("virtualTopHeightChange",e)}},computed:{virtualCellIndexKey:()=>He,finalUseVirtualList(){return this.useVirtualList&&this.usePageScroll&&Xe.consoleErr("使用页面滚动时，开启虚拟列表无效！"),this.useVirtualList&&!this.usePageScroll},finalUseInnerList(){return this.useInnerList||this.finalUseVirtualList&&!this.forceCloseInnerList},finalCellKeyName(){return this.cellKeyName},finalVirtualPageHeight(){return this.scrollViewHeight>0?this.scrollViewHeight:this.windowHeight},finalFixedCellHeight(){return Xe.convertToPx(this.fixedCellHeight)},fianlVirtualCellIdPrefix(){return(this.virtualCellIdPrefix?this.virtualCellIdPrefix+"-":"")+"zp-id"},finalPlaceholderTopHeightStyle:()=>({}),virtualRangePageHeight(){return this.finalVirtualPageHeight*this.preloadPage},virtualScrollDisTimeStamp(){return 1e3/this.virtualScrollFps}},methods:{doInsertVirtualListItem(e,t){if(this.cellHeightMode!==dt.CellHeightMode.Dynamic)return;this.realTotalData.splice(t,0,e),this.realTotalData=[...this.realTotalData],this.virtualItemInsertedCount++,e&&"[object Object]"===Object.prototype.toString.call(e)||(e={item:e});const i=this.virtualCellIndexKey;e[i]=`custom-${this.virtualItemInsertedCount}`,e[We]=`${this.virtualListKey}-${e[i]}`,this.$nextTick(async()=>{let a=0;for(;a<=10;){await Xe.wait(Be);const o=await this._getVirtualCellNodeByIndex(e[i]);if(!o){a++;continue}const s=o?o[0].height:0,l=this.virtualHeightCacheList[t-1],r=l?l.totalHeight:0;this.virtualHeightCacheList.splice(t,0,{height:s,lastTotalHeight:r,totalHeight:r+s});for(let e=t+1;e<this.virtualHeightCacheList.length;e++){const t=this.virtualHeightCacheList[e];t.lastTotalHeight+=s,t.totalHeight+=s}this._updateVirtualScroll(this.oldScrollTop);break}})},didUpdateVirtualListCell(e){if(this.cellHeightMode!==dt.CellHeightMode.Dynamic)return;const t=this.virtualHeightCacheList[e];this.$nextTick(()=>{this._getVirtualCellNodeByIndex(e).then(i=>{const a=i?i[0].height:0,o=a-t.height;t.height=a,t.totalHeight=t.lastTotalHeight+a;for(let t=e+1;t<this.virtualHeightCacheList.length;t++){const e=this.virtualHeightCacheList[t];e.totalHeight+=o,e.lastTotalHeight+=o}})})},didDeleteVirtualListCell(e){if(this.cellHeightMode!==dt.CellHeightMode.Dynamic)return;const t=this.virtualHeightCacheList[e];for(let i=e+1;i<this.virtualHeightCacheList.length;i++){const e=this.virtualHeightCacheList[i];e.totalHeight-=t.height,e.lastTotalHeight-=t.height}this.virtualHeightCacheList.splice(e,1)},updateVirtualListRender(){this.finalUseVirtualList&&(this.updateVirtualListFromDataChange=!0,this.$nextTick(()=>{this.getCellHeightRetryCount.fixed=0,this.realTotalData.length?this.cellHeightMode===dt.CellHeightMode.Fixed&&this.isFirstPage&&this._updateFixedCellHeight():this._resetDynamicListState(!this.isUserPullDown),this._updateVirtualScroll(this.oldScrollTop)}))},_updateFixedCellHeight(){this.finalFixedCellHeight?this.virtualCellHeight=this.finalFixedCellHeight:this.$nextTick(()=>{Xe.delay(()=>{this._getVirtualCellNodeByIndex(0).then(e=>{if(e)this.virtualCellHeight=e[0].height,this._updateVirtualScroll(this.oldScrollTop);else{if(this.getCellHeightRetryCount.fixed>10)return;this.getCellHeightRetryCount.fixed++,this._updateFixedCellHeight()}})},Be,"updateFixedCellHeightDelay")})},_updateDynamicCellHeight(e,t="bottom"){const i="top"===t,a=this.virtualHeightCacheList,o=i?[]:a;let s=0;this.$nextTick(()=>{Xe.delay(async()=>{for(let l=0;l<e.length;l++){const r=await this._getVirtualCellNodeByIndex(e[l][this.virtualCellIndexKey]),n=r?r[0].height:0;if(!r)return void(this.getCellHeightRetryCount.dynamic<=10&&(a.splice(a.length-l,l),this.getCellHeightRetryCount.dynamic++,this._updateDynamicCellHeight(e,t)));const h=o.length?o.slice(-1)[0]:null,d=h?h.totalHeight:0;o.push({height:n,lastTotalHeight:d,totalHeight:d+n}),i&&(s+=n)}if(i&&e.length){for(let e=0;e<a.length;e++){const t=a[e];t.lastTotalHeight+=s,t.totalHeight+=s}this.virtualHeightCacheList=o.concat(a)}this._updateVirtualScroll(this.oldScrollTop)},Be,"updateDynamicCellHeightDelay")})},_setCellIndex(e,t="bottom"){let i=0;const a=this.virtualCellIndexKey;if("bottom"===t&&[dt.QueryFrom.Refresh,dt.QueryFrom.Reload].indexOf(this.queryFrom)>=0&&this._resetDynamicListState(),this.totalData.length&&this.queryFrom!==dt.QueryFrom.Refresh){if("bottom"===t){i=this.realTotalData.length;const e=this.realTotalData.length?this.realTotalData.slice(-1)[0]:null;e&&void 0!==e[a]&&(i=e[a]+1)}else if("top"===t){const t=this.realTotalData.length?this.realTotalData[0]:null;t&&void 0!==t[a]&&(i=t[a]-e.length)}}else this._resetDynamicListState();for(let o=0;o<e.length;o++){let t=e[o];t&&"[object Object]"===Object.prototype.toString.call(t)||(t={item:t}),t[We]&&(t=Xe.deepCopy(t)),t[a]=i+o,t[We]=`${this.virtualListKey}-${t[a]}`,e[o]=t}this.getCellHeightRetryCount.dynamic=0,this.cellHeightMode===dt.CellHeightMode.Dynamic&&this._updateDynamicCellHeight(e,t)},_updateVirtualScroll(e,t=0){const i=Xe.getTime();if(0===e&&this._resetTopRange(),0!==e&&this.virtualScrollTimeStamp&&i-this.virtualScrollTimeStamp<=this.virtualScrollDisTimeStamp)return;this.virtualScrollTimeStamp=i;let a=0;const o=this.cellHeightMode;if(o===dt.CellHeightMode.Fixed)a=parseInt(e/this.virtualCellHeight)||0,this._updateFixedTopRangeIndex(a),this._updateFixedBottomRangeIndex(a);else if(o===dt.CellHeightMode.Dynamic){const i=t>0?"top":"bottom",a=this.virtualRangePageHeight,o=e-a,s=e+this.finalVirtualPageHeight+a;let l=0,r=0,n=!1;const h=this.virtualHeightCacheList,d=h?h.slice(-1)[0]:null;let c=this.virtualTopRangeIndex;if("bottom"===i)for(let e=c;e<h.length;e++){const t=h[e];if(t&&t.totalHeight>o){this.virtualTopRangeIndex=e,this.virtualPlaceholderTopHeight=t.lastTotalHeight;break}}else{let e=!1;for(let t=c;t>=0;t--){const i=h[t];if(i&&i.totalHeight<o){this.virtualTopRangeIndex=t,this.virtualPlaceholderTopHeight=i.lastTotalHeight,e=!0;break}}!e&&this._resetTopRange()}for(let e=this.virtualTopRangeIndex;e<h.length;e++){const t=h[e];if(t&&t.totalHeight>s){l=e,r=d.totalHeight-t.totalHeight,n=!0;break}}n&&0!==this.virtualBottomRangeIndex?(this.virtualBottomRangeIndex=l,this.virtualPlaceholderBottomHeight=r):(this.virtualBottomRangeIndex=this.realTotalData.length?this.realTotalData.length-1:this.pageSize,this.virtualPlaceholderBottomHeight=0),this._updateVirtualList()}},_updateFixedTopRangeIndex(e){let t=0===this.virtualCellHeight?0:e-(parseInt(this.finalVirtualPageHeight/this.virtualCellHeight)||1)*this.preloadPage;t*=this.virtualListCol,t=Math.max(0,t),this.virtualTopRangeIndex=t,this.virtualPlaceholderTopHeight=t/this.virtualListCol*this.virtualCellHeight},_updateFixedBottomRangeIndex(e){let t=0===this.virtualCellHeight?this.pageSize:e+(parseInt(this.finalVirtualPageHeight/this.virtualCellHeight)||1)*(this.preloadPage+1);t*=this.virtualListCol,t=Math.min(this.realTotalData.length,t),this.virtualBottomRangeIndex=t,this.virtualPlaceholderBottomHeight=(this.realTotalData.length-t)*this.virtualCellHeight/this.virtualListCol,this._updateVirtualList()},_updateVirtualList(){(this.updateVirtualListFromDataChange||this.lastVirtualTopRangeIndex!==this.virtualTopRangeIndex||this.lastVirtualBottomRangeIndex!==this.virtualBottomRangeIndex)&&(this.updateVirtualListFromDataChange=!1,this.lastVirtualTopRangeIndex=this.virtualTopRangeIndex,this.lastVirtualBottomRangeIndex=this.virtualBottomRangeIndex,this.virtualList=this.realTotalData.slice(this.virtualTopRangeIndex,this.virtualBottomRangeIndex+1))},_resetDynamicListState(e=!1){this.virtualHeightCacheList=[],e&&(this.virtualList=[]),this.virtualTopRangeIndex=0,this.virtualPlaceholderTopHeight=0},_resetTopRange(){this.virtualTopRangeIndex=0,this.virtualPlaceholderTopHeight=0,this._updateVirtualList()},_checkVirtualListScroll(){this.finalUseVirtualList&&this.$nextTick(()=>{this._getNodeClientRect(".zp-paging-touch-view").then(e=>{const t=e?e[0].top:0;(!e||t===this.pagingOrgTop&&0!==this.virtualPlaceholderTopHeight)&&this._updateVirtualScroll(0)})})},_getVirtualCellNodeByIndex(e){let t=this.finalUseInnerList;return this._getNodeClientRect(`#${this.fianlVirtualCellIdPrefix}-${e}`,t)},_innerCellClick(e,t){this.$emit("innerCellClick",e,t)}}},Pt=Xe.getSystemInfoSync(),Bt={name:"z-paging",components:{zPagingRefresh:ct,zPagingLoadMore:ut,zPagingEmptyView:ht},mixins:[$e,Rt,vt,Mt,It,At,Lt,kt,Dt,Vt,zt,Nt],data:()=>({base64BackToTop:nt,loadingType:dt.LoadingType.Refresher,requestTimeStamp:0,wxsPropType:"",renderPropScrollTop:-1,checkScrolledToBottomTimeOut:null,cacheTopHeight:-1,statusBarHeight:Pt.statusBarHeight,scrollViewHeight:0,pagingOrgTop:-1,insideOfPaging:-1,isLoadFailed:!1,isIos:"ios"===Pt.platform,disabledBounce:!1,fromCompleteEmit:!1,disabledCompleteEmit:!1,pageLaunched:!1,active:!1,wxsIsScrollTopInTopRange:!0,wxsScrollTop:0,wxsPageScrollTop:0,wxsOnPullingDown:!1}),props:{delay:{type:[Number,String],default:Xe.gc("delay",0)},minDelay:{type:[Number,String],default:Xe.gc("minDelay",0)},pagingStyle:{type:Object,default:Xe.gc("pagingStyle",{})},pagingClass:{type:[String,Array,Object],default:Xe.gc("pagingClass","")},height:{type:String,default:Xe.gc("height","")},width:{type:String,default:Xe.gc("width","")},maxWidth:{type:String,default:Xe.gc("maxWidth","")},bgColor:{type:String,default:Xe.gc("bgColor","")},pagingContentStyle:{type:Object,default:Xe.gc("pagingContentStyle",{})},autoHeight:{type:Boolean,default:Xe.gc("autoHeight",!1)},autoHeightAddition:{type:[Number,String],default:Xe.gc("autoHeightAddition","0px")},defaultThemeStyle:{type:String,default:Xe.gc("defaultThemeStyle","black")},fixed:{type:Boolean,default:Xe.gc("fixed",!0)},safeAreaInsetBottom:{type:Boolean,default:Xe.gc("safeAreaInsetBottom",!1)},useSafeAreaPlaceholder:{type:Boolean,default:Xe.gc("useSafeAreaPlaceholder",!1)},bottomBgColor:{type:String,default:Xe.gc("bottomBgColor","")},topZIndex:{type:Number,default:Xe.gc("topZIndex",99)},superContentZIndex:{type:Number,default:Xe.gc("superContentZIndex",1)},contentZIndex:{type:Number,default:Xe.gc("contentZIndex",1)},f2ZIndex:{type:Number,default:Xe.gc("f2ZIndex",100)},autoFullHeight:{type:Boolean,default:Xe.gc("autoFullHeight",!0)},watchTouchDirectionChange:{type:Boolean,default:Xe.gc("watchTouchDirectionChange",!1)},watchScrollDirectionChange:{type:Boolean,default:Xe.gc("watchScrollDirectionChange",!1)},layoutOnly:{type:Boolean,default:Xe.gc("layoutOnly",!1)},unit:{type:String,default:Xe.gc("unit","rpx")}},created(){this.createdReload&&!this.isOnly&&this.auto&&(this._startLoading(),this.$nextTick(this._preReload))},mounted(){this.active=!0,this.wxsPropType=Xe.getTime().toString(),this.renderJsIgnore,this.createdReload||this.isOnly||!this.auto||Xe.delay(()=>this.$nextTick(this._preReload),0),this.finalUseCache&&this._setListByLocalCache();let e=0;e=Be,this.systemInfo=Xe.getSystemInfoSync(),this.$nextTick(()=>{this.systemInfo=Xe.getSystemInfoSync(),!this.usePageScroll&&this.autoHeight&&this._setAutoHeight(),this.loaded=!0,Xe.delay(()=>{this.updateFixedLayout(),this._updateCachedSuperContentHeight(),this._updateScrollViewHeight()})}),this.updatePageScrollTopHeight(),this.updatePageScrollBottomHeight(),this.updateLeftAndRightWidth(),this.finalRefresherEnabled&&this.useCustomRefresher&&this.$nextTick(()=>{this.isTouchmoving=!0}),this.layoutOnly||this._onEmit(),this.$nextTick(()=>{setTimeout(()=>{this._getCssSafeAreaInsetBottom(()=>this.safeAreaInsetBottom&&this.updatePageScrollBottomHeight())},e)})},destroyed(){this._handleUnmounted()},unmounted(){this._handleUnmounted()},watch:{defaultThemeStyle:{handler(e){e.length&&(this.finalRefresherDefaultStyle=e)},immediate:!0},autoHeight(e){this.loaded&&!this.usePageScroll&&this._setAutoHeight(e)},autoHeightAddition(e){this.loaded&&!this.usePageScroll&&this.autoHeight&&this._setAutoHeight(e)}},computed:{finalPagingStyle(){const e={...this.pagingStyle};if(!this.systemInfo)return e;const{windowTop:t,windowBottom:i}=this;return!this.usePageScroll&&this.fixed&&(t&&!e.top&&(e.top=t+"px"),i&&!e.bottom&&(e.bottom=i+"px")),this.bgColor.length&&!e.background&&(e.background=this.bgColor),this.height.length&&!e.height&&(e.height=this.height),this.width.length&&!e.width&&(e.width=this.width),this.maxWidth.length&&!e["max-width"]&&(e["max-width"]=this.maxWidth,e.margin="0 auto"),e},finalPagingContentStyle(){return 1!=this.contentZIndex&&(this.pagingContentStyle["z-index"]=this.contentZIndex,this.pagingContentStyle.position="relative"),this.pagingContentStyle},finalUseSafeAreaPlaceholder(){return this.useSafeAreaPlaceholder&&!this.zSlots.bottom},renderJsIgnore(){return(this.usePageScroll&&this.useChatRecordMode||!this.refresherEnabled&&this.scrollable||!this.useCustomRefresher)&&this.$nextTick(()=>{this.renderPropScrollTop=10}),0},windowHeight(){return this.systemInfo&&this.systemInfo.windowHeight||0},windowBottom(){return this.systemInfo&&this.systemInfo.windowBottom||0},isIosAndH5(){return this.isIos},isOnly(){return this.layoutOnly||this.refresherOnly}},methods:{getVersion:()=>`z-paging v${Pe}`,setSpecialEffects(e){this.setListSpecialEffects(e)},setListSpecialEffects(e){this.nFixFreezing=e&&Object.keys(e).length,this.isIos&&(this.privateRefresherEnabled=0),!this.usePageScroll&&this.$refs["zp-n-list"].setSpecialEffects(e)},_doVibrateShort(){},async _setAutoHeight(e=!0,t=null){const i="min-height";try{if(e){let e=t||await this._getNodeClientRect(".zp-scroll-view"),a=await this._getNodeClientRect(".zp-page-bottom");if(e){const t=e[0].top;let o=this.windowHeight-t;o-=a?a[0].height:0;const s=Xe.convertToPx(this.autoHeightAddition);let l=" !important";const r=o+s-(this.insideMore?1:0)+"px"+l;this.$set(this.scrollViewStyle,i,r),this.$set(this.scrollViewInStyle,i,r)}}else this.$delete(this.scrollViewStyle,i),this.$delete(this.scrollViewInStyle,i)}catch(a){}},async _updateScrollViewHeight(){const e=await this._getNodeClientRect(".zp-scroll-view");if(e){const t=e[0].height;this.scrollViewHeight=t,this.pagingOrgTop=e[0].top}},_handleUnmounted(){this.active=!1,this.layoutOnly||this._offEmit()},_updateInsideOfPaging(){this.insideMore&&!0===this.insideOfPaging&&setTimeout(this.doLoadMore,200)},_cleanTimeout:e=>(e&&(clearTimeout(e),e=null),e),_onEmit(){fe(_e,e=>{this.loading&&(e&&(this.customerEmptyViewErrorText=e),this.complete(!1).catch(()=>{}))}),fe(Ee,e=>{setTimeout(()=>{if(this.loading)if(this.disabledCompleteEmit)this.disabledCompleteEmit=!1;else{const t=e.type||"normal",i=e.list||e,a=e.rule;switch(this.fromCompleteEmit=!0,t){case"normal":this.complete(i);break;case"total":this.completeByTotal(i,a);break;case"nomore":this.completeByNoMore(i,a);break;case"key":this.completeByKey(i,a)}}},1)})},_offEmit(){pe(_e),pe(Ee)}}},_t={startY:0,isTouchFromZPaging:!1,isUsePageScroll:!1,isReachedTop:!0,isIosAndH5:!1,useChatRecordMode:!1},Et={name:"z-paging",mixins:[{mounted(){window&&this._handleTouch()},methods:{renderPropIsIosAndH5Change(e){-1!==e&&(_t.isIosAndH5=e)},_handleTouch(){window.$zPagingRenderJsInited||(window.$zPagingRenderJsInited=!0,window.addEventListener("touchstart",this._handleTouchstart,{passive:!0}),window.addEventListener("touchmove",this._handleTouchmove,{passive:!1}))},_handleTouchstart(e){const t=Xe.getTouch(e);_t.startY=t.touchY;const i=Xe.getTouchFromZPaging(e.target);_t.isTouchFromZPaging=i.isFromZp,_t.isUsePageScroll=i.isPageScroll,_t.isReachedTop=i.isReachedTop,_t.useChatRecordMode=i.isUseChatRecordMode},_handleTouchmove(e){const t=Xe.getTouch(e).touchY-_t.startY;_t.isTouchFromZPaging&&(_t.isReachedTop&&(_t.useChatRecordMode?t<0:t>0)||!_t.useChatRecordMode&&_t.isIosAndH5&&!_t.isUsePageScroll&&t<0)&&e.cancelable&&!e.defaultPrevented&&e.preventDefault()},_removeAllEventListener(){window.removeEventListener("touchstart"),window.removeEventListener("touchmove")}}}]},Ft=e=>{e.$renderjs||(e.$renderjs=[]),e.$renderjs.push("pagingRenderjs"),e.mixins||(e.mixins=[]),e.mixins.push({beforeCreate(){this.pagingRenderjs=this},mounted(){this.$ownerInstance=this.$gcd(this,!0)}}),e.mixins.push(Et)};var Ht=0,Wt=-1,Zt=-1;function Ot(e,t){var i=$t(t),a={},o={};if(t.callMethod("_handleListTouchstart"),!i||(a=i.getState(),o=i.getDataset(),!qt(e,i))){var s=a.isTouchEnded;a.oldMoveDis=0;var l=Xt(e),r=ti(o.loading);a.startY=l.touchY,Zt=a.startY,a.lastTouch=l,!r&&s&&(a.isTouchmoving=!1),a.isTouchEnded=!1,t.callMethod("_handleRefresherTouchstart",l)}}function jt(e,t){var i=Xt(e),a=$t(t),o=a.getDataset(),s=o.refresherthreshold,l=o.refresherf2threshold,r=ti(o.refresherf2enabled);ti(o.isios);var n=a.getState(),h={},d=0,c=!1;if(ti(o.watchtouchdirectionchange)){d=(h=Kt(e,a)).currentDis;var u=(c=h.isDown)?"top":"bottom";c==n.oldTouchDirection&&c!=n.oldEmitedTouchDirection&&(t.callMethod("_handleTouchDirectionChange",{direction:u}),n.oldEmitedTouchDirection=c),n.oldTouchDirection=c}if(qt(e,a))return ei(n,t,!1),!0;if(!function(e,t,i,a){var o=a.refreshermaxangle,s=ti(a.refresheraecc),l=i.lastTouch,r=i.reachMaxAngle,n=i.oldMoveDis;if(!l)return!0;if(o>=0&&o<=90&&l){if((!n||n<1)&&!s&&null!=r&&!r)return!1;var h=Math.abs(t.touchX-l.touchX),d=Math.abs(t.touchY-l.touchY),c=Math.sqrt(Math.pow(h,2)+Math.pow(d,2));if((h||d)&&h>1)if(Math.asin(d/c)/Math.PI*180<o){var u=i.hitReachMaxAngleCount||0;return i.hitReachMaxAngleCount=++u,i.hitReachMaxAngleCount>2&&(i.lastTouch=t,i.reachMaxAngle=!1),!1}}return i.lastTouch=t,!0}(0,i,n,o))return ei(n,t,!1),!0;if(d=(h=Kt(e,a)).currentDis,c=h.isDown,d<0)return Qt(0,a,n,!1),ei(n,t,!1),!0;if(c&&!n.disabledBounce)return t.callMethod("_handleScrollViewBounce",{bounce:!1}),n.disabledBounce=!0,ei(n,t,c),!c;Qt(d,a,n,!1);var g=n.refresherStatus,p=ti(o.oldistouchmoving),f=ti(o.hastouchmove),m=n.isTouchmoving;return n.refresherStatus=d>=s?r&&d>l?"goF2":"releaseToRefresh":"default",m||(n.isTouchmoving=!0,m=!0),n.isTouchEnded&&(n.isTouchEnded=!1),f&&t.callMethod("_handleWxsPullingDown",{moveDis:d,diffDis:h.diffDis}),null!=g&&g==n.refresherStatus&&p==m||t.callMethod("_handleRefresherTouchmove",d,i),ei(n,t,c),!c}function Ut(e,t){Xt(e);var i=$t(t);i.getDataset();var a=i.getState();if(a.disabledBounce&&(t.callMethod("_handleScrollViewBounce",{bounce:!0}),a.disabledBounce=!1),!qt(e,i)&&(a.reachMaxAngle=!0,a.hitReachMaxAngleCount=0,a.fixedIsTopHitCount=0,a.isTouchmoving)){var o=a.refresherStatus,s=a.moveDis,l=i.getDataset().refresherthreshold,r=Kt(e,i).currentDis;if(r>=l&&"releaseToRefresh"===o||(a.isTouchmoving=!1),t.callMethod("_handleRefresherTouchend",r),a.isTouchEnded=!0,!(s<l)){var n=!1;r>=l&&(r=l,n=!0),Qt(r,i,a,n)}}}function Gt(){if(!navigator)return!1;if(-1!=Wt)return Wt;return Wt=["Android","iPhone","SymbianOS","Windows Phone","iPad","iPod"].every(function(e){return navigator.userAgent.indexOf(e)<0})}var Yt=!1;function Qt(e,t,i,a){e=e||0,i.moveDis!=e&&(i.moveDis=e,Jt("translateY("+e+"px)",t,a,""))}function Jt(e,t,i,a){ti(t.getDataset().refreshernotransform)||(e="translateY(0px)"==e?"none":e,t.requestAnimationFrame(function(){var o={transform:e};i&&(o.transition="transform .1s linear"),a.length&&(o.transition=a),t.setStyle(o)}))}function Kt(e,t){var i=t.getState(),a=parseFloat(t.getDataset().refresherthreshold),o=parseFloat(t.getDataset().refresheroutrate),s=parseFloat(t.getDataset().refresherpullrate),l=Xt(e),r=i.startY&&"NaN"!=i.startY?i.startY:Zt,n=l.touchY-r,h=i.oldMoveDis||0;i.oldMoveDis=n;var d=n-h;return d>0&&(d*=s,Ht>a&&(d*=1-o)),Ht+=d=d>100?d/100:d>20?d/2.2:d,{currentDis:Ht=Math.max(0,Ht),diffDis:d,isDown:d>0}}function Xt(e){var t=e;return e.touches&&e.touches.length?t=e.touches[0]:e.changedTouches&&e.changedTouches.length?t=e.changedTouches[0]:e.datail&&e.datail!={}&&(t=e.datail),{touchX:t.clientX,touchY:t.clientY}}function $t(e){var t=e.getState().currentIns;return t||e.callMethod("_handlePropUpdate"),t}function qt(e,t,i){var a=t.getDataset(),o=t.getState(),s=ti(a.loading),l=ti(a.usechatrecordmode),r=ti(a.refresherenabled),n=ti(a.usecustomrefresher),h=ti(a.usepagescroll),d=parseFloat(a.pagescrolltop),c=parseFloat(a.scrolltop);return o.fixedIsTopHitCount,o.fixedIsTopHitCount=0,s||l||!r||!n||h&&n&&d>5&&!0||!h&&n&&c>5&&!0}function ei(e,t,i){(e.onPullingDown||!1)!=i&&t.callMethod("_handleWxsPullingDownStatusChange",i),e.onPullingDown=i}function ti(e){return 1==(e=("string"==typeof e?JSON.parse(e):e)||!1)||"true"==e}const ii={touchstart:Ot,touchmove:jt,touchend:Ut,mousedown:function(e,t){Gt()&&(Ot(e,t),Yt=!0)},mousemove:function(e,t){Gt()&&Yt&&jt(e,t)},mouseup:function(e,t){Gt()&&(Ut(e,t),Yt=!1)},mouseleave:function(e,t){Gt()&&(Yt=!1)},propObserver:function(e,t,i,a){var o=i.getState()||{};if(o.currentIns=a,a.getDataset().loading,e&&-1!=e.indexOf("end"))Jt("translateY(0px)",a,!1,e.split("end")[0]),o.moveDis=0,o.oldMoveDis=0,Ht=0;else if(e&&-1!=e.indexOf("begin")){Qt(a.getDataset().refresherthreshold,a,o,!1)}}},ai=e=>{e.$wxs||(e.$wxs=[]),e.$wxs.push("pagingWxs"),e.mixins||(e.mixins=[]),e.mixins.push({beforeCreate(){this.pagingWxs=ii}})};Ft(Bt),ai(Bt);const oi=C(Bt,[["render",function(e,t,i,a,o,s){const l=T,r=me("z-paging-refresh"),n=me("z-paging-load-more"),h=H(W("z-paging-empty-view"),ht),d=k,c=oe;return f(),p(l,{class:w([{"z-paging-content":!0,"z-paging-content-full":!e.usePageScroll,"z-paging-content-fixed":!e.usePageScroll&&e.fixed,"z-paging-content-page":e.usePageScroll,"z-paging-reached-top":e.renderPropScrollTop<1,"z-paging-use-chat-record-mode":e.useChatRecordMode},e.pagingClass]),style:S([e.finalPagingStyle])},{default:m(()=>[-1===e.cssSafeAreaInsetBottom?(f(),p(l,{key:0,class:"zp-safe-area-inset-bottom",style:{position:"absolute"}})):y("",!0),e.showF2&&e.showRefresherF2?(f(),p(l,{key:1,onTouchmove:t[0]||(t[0]=se(()=>{},["stop","prevent"])),class:"zp-f2-content",style:S([{transform:e.f2Transform,transition:"transform .2s linear",height:e.superContentHeight+"px","z-index":e.f2ZIndex}])},{default:m(()=>[b(e.$slots,"f2",{},void 0,!0)]),_:3},8,["style"])):y("",!0),e.zSlots.top?(f(),O(j,{key:2},[e.usePageScroll?(f(),p(l,{key:1,class:"zp-page-top",onTouchmove:t[1]||(t[1]=se(()=>{},["stop","prevent"])),style:S([{top:`${e.windowTop}px`,"z-index":e.topZIndex}])},{default:m(()=>[b(e.$slots,"top",{},void 0,!0)]),_:3},8,["style"])):b(e.$slots,"top",{key:0},void 0,!0)],64)):y("",!0),L(l,{class:w({"zp-view-super":!0,"zp-scroll-view-super":!e.usePageScroll}),style:S([e.finalScrollViewStyle])},{default:m(()=>[e.zSlots.left?(f(),p(l,{key:0,class:w({"zp-page-left":!0,"zp-absoulte":e.finalIsOldWebView})},{default:m(()=>[b(e.$slots,"left",{},void 0,!0)]),_:3},8,["class"])):y("",!0),L(l,{class:w({"zp-scroll-view-container":!0,"zp-absoulte":e.finalIsOldWebView}),style:S([e.scrollViewContainerStyle])},{default:m(()=>[L(d,{ref:"zp-scroll-view",class:w({"zp-scroll-view":!0,"zp-scroll-view-absolute":!e.usePageScroll,"zp-scroll-view-hide-scrollbar":!e.showScrollbar}),style:S([e.chatRecordRotateStyle]),"scroll-top":e.scrollTop,"scroll-left":e.scrollLeft,"scroll-x":e.scrollX,"scroll-y":e.finalScrollable,"enable-back-to-top":e.finalEnableBackToTop,"show-scrollbar":e.showScrollbar,"scroll-with-animation":e.finalScrollWithAnimation,"scroll-into-view":e.scrollIntoView,"lower-threshold":e.finalLowerThreshold,"upper-threshold":5,"refresher-enabled":e.finalRefresherEnabled&&!e.useCustomRefresher,"refresher-threshold":e.finalRefresherThreshold,"refresher-default-style":e.finalRefresherDefaultStyle,"refresher-background":e.refresherBackground,"refresher-triggered":e.finalRefresherTriggered,onScroll:e._scroll,onScrolltolower:e._onScrollToLower,onScrolltoupper:e._onScrollToUpper,onRefresherrestore:e._onRestore,onRefresherrefresh:t[4]||(t[4]=t=>e._onRefresh(!0))},{default:m(()=>[L(l,{class:"zp-paging-touch-view",onTouchstart:e.pagingWxs.touchstart,onTouchmove:e.pagingWxs.touchmove,onTouchend:e.pagingWxs.touchend,onTouchcancel:e.pagingWxs.touchend,onMousedown:e.pagingWxs.mousedown,onMousemove:e.pagingWxs.mousemove,onMouseup:e.pagingWxs.mouseup,onMouseleave:e.pagingWxs.mouseleave},{default:m(()=>[e.finalRefresherFixedBacHeight>0?(f(),p(l,{key:0,class:"zp-fixed-bac-view",style:S([{background:e.refresherFixedBackground,height:`${e.finalRefresherFixedBacHeight}px`}])},null,8,["style"])):y("",!0),L(l,{class:"zp-paging-main",style:S([e.scrollViewInStyle,{transform:e.finalRefresherTransform,transition:e.refresherTransition}]),"change:prop":e.pagingWxs.propObserver,prop:e.wxsPropType,"data-refresherThreshold":e.finalRefresherThreshold,"data-refresherF2Enabled":e.refresherF2Enabled,"data-refresherF2Threshold":e.finalRefresherF2Threshold,"data-isIos":e.isIos,"data-loading":e.loading||e.isRefresherInComplete,"data-useChatRecordMode":e.useChatRecordMode,"data-refresherEnabled":e.finalRefresherEnabled,"data-useCustomRefresher":e.useCustomRefresher,"data-pageScrollTop":e.wxsPageScrollTop,"data-scrollTop":e.wxsScrollTop,"data-refresherMaxAngle":e.refresherMaxAngle,"data-refresherNoTransform":e.refresherNoTransform,"data-refresherAecc":e.refresherAngleEnableChangeContinued,"data-usePageScroll":e.usePageScroll,"data-watchTouchDirectionChange":e.watchTouchDirectionChange,"data-oldIsTouchmoving":e.isTouchmoving,"data-refresherOutRate":e.finalRefresherOutRate,"data-refresherPullRate":e.finalRefresherPullRate,"data-hasTouchmove":e.hasTouchmove,"change:renderPropIsIosAndH5":e.pagingRenderjs.renderPropIsIosAndH5Change,renderPropIsIosAndH5:e.isIosAndH5},{default:m(()=>[e.showRefresher?(f(),p(l,{key:0,class:"zp-custom-refresher-view",style:S([{"margin-top":`-${e.finalRefresherThreshold+e.refresherThresholdUpdateTag}px`,background:e.refresherBackground,opacity:e.isTouchmoving?1:0}])},{default:m(()=>[L(l,{class:"zp-custom-refresher-container",style:S([{height:`${e.finalRefresherThreshold}px`,background:e.refresherBackground}])},{default:m(()=>[e.useRefresherStatusBarPlaceholder?(f(),p(l,{key:0,class:"zp-custom-refresher-status-bar-placeholder",style:S([{height:`${e.statusBarHeight}px`}])},null,8,["style"])):y("",!0),L(l,{class:"zp-custom-refresher-slot-view"},{default:m(()=>[e.zSlots.refresherComplete&&e.refresherStatus===e.R.Complete||e.zSlots.refresherF2&&e.refresherStatus===e.R.GoF2?y("",!0):b(e.$slots,"refresher",{key:0,refresherStatus:e.refresherStatus},void 0,!0)]),_:3}),e.zSlots.refresherComplete&&e.refresherStatus===e.R.Complete?b(e.$slots,"refresherComplete",{key:1},void 0,!0):e.zSlots.refresherF2&&e.refresherStatus===e.R.GoF2?b(e.$slots,"refresherF2",{key:2},void 0,!0):e.showCustomRefresher?y("",!0):(f(),p(r,{key:3,ref:"refresh",class:"zp-custom-refresher-refresh",style:S([{height:e.finalRefresherThreshold-e.finalRefresherThresholdPlaceholder+"px"}]),status:e.refresherStatus,defaultThemeStyle:e.finalRefresherThemeStyle,defaultText:e.finalRefresherDefaultText,isIos:e.isIos,pullingText:e.finalRefresherPullingText,refreshingText:e.finalRefresherRefreshingText,completeText:e.finalRefresherCompleteText,goF2Text:e.finalRefresherGoF2Text,defaultImg:e.refresherDefaultImg,pullingImg:e.refresherPullingImg,refreshingImg:e.refresherRefreshingImg,completeImg:e.refresherCompleteImg,refreshingAnimated:e.refresherRefreshingAnimated,showUpdateTime:e.showRefresherUpdateTime,updateTimeKey:e.refresherUpdateTimeKey,updateTimeTextMap:e.finalRefresherUpdateTimeTextMap,imgStyle:e.refresherImgStyle,titleStyle:e.refresherTitleStyle,updateTimeStyle:e.refresherUpdateTimeStyle,unit:e.unit},null,8,["style","status","defaultThemeStyle","defaultText","isIos","pullingText","refreshingText","completeText","goF2Text","defaultImg","pullingImg","refreshingImg","completeImg","refreshingAnimated","showUpdateTime","updateTimeKey","updateTimeTextMap","imgStyle","titleStyle","updateTimeStyle","unit"]))]),_:3},8,["style"])]),_:3},8,["style"])):y("",!0),L(l,{class:"zp-paging-container",style:S([{justifyContent:e.useChatRecordMode?"flex-end":"flex-start"}])},{default:m(()=>[e.showLoading&&e.zSlots.loading&&!e.loadingFullFixed?b(e.$slots,"loading",{key:0},void 0,!0):y("",!0),L(l,{class:"zp-paging-container-content",style:S([e.finalPlaceholderTopHeightStyle,e.finalPagingContentStyle])},{default:m(()=>[e.useVirtualList?(f(),p(l,{key:0,class:"zp-virtual-placeholder",style:S([{height:e.virtualPlaceholderTopHeight+"px"}])},null,8,["style"])):y("",!0),b(e.$slots,"default",{},void 0,!0),e.finalUseInnerList?(f(),O(j,{key:1},[b(e.$slots,"header",{},void 0,!0),L(l,{class:"zp-list-container",style:S([e.innerListStyle])},{default:m(()=>[e.finalUseVirtualList?(f(!0),O(j,{key:0},U(e.virtualList,(t,i)=>(f(),p(l,{class:"zp-list-cell",style:S([e.innerCellStyle]),id:`${e.fianlVirtualCellIdPrefix}-${t[e.virtualCellIndexKey]}`,key:t.zp_unique_index,onClick:a=>e._innerCellClick(t,e.virtualTopRangeIndex+i)},{default:m(()=>[e.useCompatibilityMode?(f(),p(l,{key:0},{default:m(()=>[J("使用兼容模式请在组件源码z-paging.vue第105行中注释这一行，并打开下面一行注释")]),_:1})):b(e.$slots,"cell",{key:1,item:t,index:e.virtualTopRangeIndex+i},void 0,!0)]),_:2},1032,["style","id","onClick"]))),128)):(f(!0),O(j,{key:1},U(e.realTotalData,(t,i)=>(f(),p(l,{class:"zp-list-cell",key:i,onClick:a=>e._innerCellClick(t,i)},{default:m(()=>[b(e.$slots,"cell",{item:t,index:i},void 0,!0)]),_:2},1032,["onClick"]))),128))]),_:3},8,["style"]),b(e.$slots,"footer",{},void 0,!0)],64)):y("",!0),e.useChatRecordMode&&e.realTotalData.length>=e.defaultPageSize&&(e.loadingStatus!==e.M.NoMore||e.zSlots.chatNoMore)&&(e.realTotalData.length||e.showChatLoadingWhenReload&&e.showLoading)&&!e.isFirstPageAndNoMore?(f(),p(l,{key:2,style:S([e.chatRecordRotateStyle])},{default:m(()=>[e.loadingStatus===e.M.NoMore&&e.zSlots.chatNoMore?b(e.$slots,"chatNoMore",{key:0},void 0,!0):(f(),O(j,{key:1},[e.zSlots.chatLoading?b(e.$slots,"chatLoading",{key:0,loadingMoreStatus:e.loadingStatus},void 0,!0):(f(),p(n,{key:1,onDoClick:t[2]||(t[2]=t=>e._onLoadingMore("click")),zConfig:e.zLoadMoreConfig},null,8,["zConfig"]))],64))]),_:3},8,["style"])):y("",!0),e.useVirtualList?(f(),p(l,{key:3,class:"zp-virtual-placeholder",style:S([{height:e.virtualPlaceholderBottomHeight+"px"}])},null,8,["style"])):y("",!0),e.showLoadingMoreDefault?b(e.$slots,"loadingMoreDefault",{key:4},void 0,!0):e.showLoadingMoreLoading?b(e.$slots,"loadingMoreLoading",{key:5},void 0,!0):e.showLoadingMoreNoMore?b(e.$slots,"loadingMoreNoMore",{key:6},void 0,!0):e.showLoadingMoreFail?b(e.$slots,"loadingMoreFail",{key:7},void 0,!0):e.showLoadingMoreCustom?(f(),p(n,{key:8,onDoClick:t[3]||(t[3]=t=>e._onLoadingMore("click")),zConfig:e.zLoadMoreConfig},null,8,["zConfig"])):y("",!0),e.safeAreaInsetBottom&&e.finalUseSafeAreaPlaceholder&&!e.useChatRecordMode?(f(),p(l,{key:9,class:"zp-safe-area-placeholder",style:S([{height:e.safeAreaBottom+"px"}])},null,8,["style"])):y("",!0)]),_:3},8,["style"]),e.showEmpty?(f(),p(l,{key:1,class:w({"zp-empty-view":!0,"zp-empty-view-center":e.emptyViewCenter}),style:S([e.emptyViewSuperStyle,e.chatRecordRotateStyle])},{default:m(()=>[e.zSlots.empty?b(e.$slots,"empty",{key:0,isLoadFailed:e.isLoadFailed},void 0,!0):(f(),p(h,{key:1,emptyViewImg:e.finalEmptyViewImg,emptyViewText:e.finalEmptyViewText,showEmptyViewReload:e.finalShowEmptyViewReload,emptyViewReloadText:e.finalEmptyViewReloadText,isLoadFailed:e.isLoadFailed,emptyViewStyle:e.emptyViewStyle,emptyViewTitleStyle:e.emptyViewTitleStyle,emptyViewImgStyle:e.emptyViewImgStyle,emptyViewReloadStyle:e.emptyViewReloadStyle,emptyViewZIndex:e.emptyViewZIndex,emptyViewFixed:e.emptyViewFixed,unit:e.unit,onReload:e._emptyViewReload,onViewClick:e._emptyViewClick},null,8,["emptyViewImg","emptyViewText","showEmptyViewReload","emptyViewReloadText","isLoadFailed","emptyViewStyle","emptyViewTitleStyle","emptyViewImgStyle","emptyViewReloadStyle","emptyViewZIndex","emptyViewFixed","unit","onReload","onViewClick"]))]),_:3},8,["class","style"])):y("",!0)]),_:3},8,["style"])]),_:3},8,["style","change:prop","prop","data-refresherThreshold","data-refresherF2Enabled","data-refresherF2Threshold","data-isIos","data-loading","data-useChatRecordMode","data-refresherEnabled","data-useCustomRefresher","data-pageScrollTop","data-scrollTop","data-refresherMaxAngle","data-refresherNoTransform","data-refresherAecc","data-usePageScroll","data-watchTouchDirectionChange","data-oldIsTouchmoving","data-refresherOutRate","data-refresherPullRate","data-hasTouchmove","change:renderPropIsIosAndH5","renderPropIsIosAndH5"])]),_:3},8,["onTouchstart","onTouchmove","onTouchend","onTouchcancel","onMousedown","onMousemove","onMouseup","onMouseleave"])]),_:3},8,["class","style","scroll-top","scroll-left","scroll-x","scroll-y","enable-back-to-top","show-scrollbar","scroll-with-animation","scroll-into-view","lower-threshold","refresher-enabled","refresher-threshold","refresher-default-style","refresher-background","refresher-triggered","onScroll","onScrolltolower","onScrolltoupper","onRefresherrestore"])]),_:3},8,["class","style"]),e.zSlots.right?(f(),p(l,{key:1,class:w({"zp-page-right":!0,"zp-absoulte zp-right":e.finalIsOldWebView})},{default:m(()=>[b(e.$slots,"right",{},void 0,!0)]),_:3},8,["class"])):y("",!0)]),_:3},8,["class","style"]),L(l,{class:"zp-page-bottom-container",style:S({background:e.bottomBgColor})},{default:m(()=>[e.zSlots.bottom?(f(),O(j,{key:0},[e.usePageScroll?(f(),p(l,{key:1,class:"zp-page-bottom",onTouchmove:t[5]||(t[5]=se(()=>{},["stop","prevent"])),style:S([{bottom:`${e.windowBottom}px`,background:e.bottomBgColor}])},{default:m(()=>[b(e.$slots,"bottom",{},void 0,!0),e.safeAreaInsetBottom?(f(),p(l,{key:0,class:"zp-safe-area-inset-bottom"})):y("",!0)]),_:3},8,["style"])):b(e.$slots,"bottom",{key:0},void 0,!0)],64)):y("",!0),!e.safeAreaInsetBottom||e.usePageScroll||e.finalUseSafeAreaPlaceholder||e.useChatRecordMode?y("",!0):(f(),p(l,{key:1,class:"zp-safe-area-inset-bottom"})),e.useChatRecordMode&&e.autoAdjustPositionWhenChat?(f(),O(j,{key:2},[L(l,{style:S([{height:e.chatRecordModeSafeAreaBottom+"px"}])},null,8,["style"]),L(l,{class:"zp-page-bottom-keyboard-placeholder-animate",style:S([{height:e.keyboardHeight+"px"}])},null,8,["style"])],64)):y("",!0)]),_:3},8,["style"]),e.showBackToTopClass?(f(),p(l,{key:3,class:w(e.finalBackToTopClass),style:S([e.finalBackToTopStyle]),onClick:se(e._backToTopClick,["stop"])},{default:m(()=>[e.zSlots.backToTop?b(e.$slots,"backToTop",{key:0},void 0,!0):(f(),p(c,{key:1,class:w(["zp-back-to-top-img",{"zp-back-to-top-img-inversion":e.useChatRecordMode&&!e.backToTopImg.length}]),src:e.backToTopImg.length?e.backToTopImg:e.base64BackToTop},null,8,["class","src"]))]),_:3},8,["class","style","onClick"])):y("",!0),e.showLoading&&e.zSlots.loading&&e.loadingFullFixed?(f(),p(l,{key:4,class:"zp-loading-fixed"},{default:m(()=>[b(e.$slots,"loading",{},void 0,!0)]),_:3})):y("",!0)]),_:3},8,["class","style"])}],["__scopeId","data-v-cad7fecd"]]),si=r({__name:"paging-list",props:{cid:{type:Number,default:0},keyword:{type:String,default:""},tabIndex:{type:Number,default:0},swiperIndex:{type:Number,default:0}},setup(t){const i=t,a=e(!1),o=e(null),s=e([]),l=async e=>{Ce.lists({cid:i.cid,pageNo:e,keyword:i.keyword}).then(e=>{var t;null==(t=o.value)||t.complete(e.data),a.value=!0,de()}).catch(()=>{var e;null==(e=o.value)||e.complete(!1)})};return g(()=>i.tabIndex,async e=>{await F(),e!==i.swiperIndex||a.value||(await ue({title:"加载中..."}),setTimeout(()=>{var e;null==(e=o.value)||e.reload()},5))},{immediate:!0}),g(()=>i.keyword,async()=>{var e;await F(),null==(e=o.value)||e.reload()}),(e,t)=>{const i=H(W("wd-img"),ye),a=T,r=H(W("z-paging"),oi);return f(),p(r,{ref_key:"pagingRef",ref:o,modelValue:D(s),"onUpdate:modelValue":t[0]||(t[0]=e=>Te(s)?s.value=e:null),"auto-show-back-to-top":"",auto:!1,"data-key":0,fixed:!1,height:"100%",onQuery:l},{default:m(()=>[L(a,{class:"mt-2.5 bg-overlay"},{default:m(()=>[(f(!0),O(j,null,U(D(s),(t,o)=>(f(),p(a,{key:o,class:"flex p-2.5 border-b border-br-thinned last:border-b-0",onClick:i=>e.$go("/pages/article/detail?id="+t.id)},{default:m(()=>[L(i,{"lazy-load":!0,width:"240rpx",height:"180rpx",radius:4,src:t.image,style:{"flex-shrink":"0"}},null,8,["src"]),L(a,{class:"flex flex-1 flex-col justify-between px-4 overflow-hidden"},{default:m(()=>[L(a,{class:"truncate text-xl font-medium text-tx-primary"},{default:m(()=>[J(K(t.title),1)]),_:2},1024),L(a,{class:"line-clamp-2 text-xs text-tx-regular"},{default:m(()=>[J(K(t.intro),1)]),_:2},1024),L(a,{class:"flex justify-between text-tx-placeholder"},{default:m(()=>[L(a,{class:"text-xs"},{default:m(()=>[J(K(t.create_time),1)]),_:2},1024),L(a,{class:"text-xs"},{default:m(()=>[J(K(t.browse)+"人浏览",1)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1032,["onClick"]))),128))]),_:1})]),_:1},8,["modelValue"])}}}),li=C(r({name:"wd-search",options:{virtualHost:!0,addGlobalClass:!0,styleIsolation:"shared"},props:{...l,customInputClass:t(""),modelValue:t(""),useSuffixSlot:a(!1),placeholder:String,cancelTxt:String,light:a(!1),hideCancel:a(!1),disabled:a(!1),maxlength:i(-1),placeholderLeft:a(!1),focus:a(!1),focusWhenClear:a(!1),placeholderStyle:String,placeholderClass:t("")},emits:["update:modelValue","change","clear","search","focus","blur","cancel"],setup(t,{emit:i}){const a=t,o=i,{translate:s}=xe("search"),l=e(!1),r=e(!1),n=e(""),h=e(!0),c=e(!1);g(()=>a.modelValue,e=>{n.value=e,e&&(r.value=!0)},{immediate:!0}),g(()=>a.focus,e=>{if(e){if(a.disabled)return;v()}}),I(()=>{a.focus&&v()});const R=d(()=>`wd-search  ${a.light?"is-light":""}  ${a.hideCancel?"is-without-cancel":""} ${a.customClass}`),x=d(()=>{const e={display:""===n.value&&h.value?"flex":"none"};return u(e)});async function C(e){r.value=e,await z(),l.value=e}async function v(){a.disabled||(await z(100),h.value=!1,C(!0))}function M(e){n.value=e.detail.value,o("update:modelValue",e.detail.value),o("change",{value:e.detail.value})}async function A(){n.value="",a.focusWhenClear&&(c.value=!0,l.value=!1),await z(),a.focusWhenClear?(h.value=!1,C(!0)):(h.value=!0,C(!1)),o("change",{value:""}),o("update:modelValue",""),o("clear")}function k({detail:{value:e}}){o("search",{value:e})}function V(){h.value=!1,o("focus",{value:n.value})}async function N(){await z(150),c.value?c.value=!1:(h.value=!n.value,r.value=!h.value,l.value=!1,o("blur",{value:n.value}))}function P(){o("cancel",{value:n.value})}return(e,t)=>{const i=Q,a=T,o=Se;return f(),p(a,{class:w(R.value),style:S(e.customStyle)},{default:m(()=>[L(a,{class:"wd-search__block"},{default:m(()=>[b(e.$slots,"prefix",{},void 0,!0),L(a,{class:"wd-search__field"},{default:m(()=>[e.placeholderLeft?y("",!0):(f(),p(a,{key:0,style:S(x.value),class:"wd-search__cover",onClick:v},{default:m(()=>[L(X,{name:"search","custom-class":"wd-search__search-icon"}),L(i,{class:w(`wd-search__placeholder-txt ${e.placeholderClass}`)},{default:m(()=>[J(K(e.placeholder||D(s)("search")),1)]),_:1},8,["class"])]),_:1},8,["style"])),r.value||n.value||e.placeholderLeft?(f(),p(X,{key:1,name:"search","custom-class":"wd-search__search-left-icon"})):y("",!0),r.value||n.value||e.placeholderLeft?(f(),p(o,{key:2,placeholder:e.placeholder||D(s)("search"),"placeholder-class":`wd-search__placeholder-txt ${e.placeholderClass}`,"placeholder-style":e.placeholderStyle,"confirm-type":"search",modelValue:n.value,"onUpdate:modelValue":t[0]||(t[0]=e=>n.value=e),class:w(["wd-search__input",e.customInputClass]),onFocus:V,onInput:M,onBlur:N,onConfirm:k,disabled:e.disabled,maxlength:e.maxlength,focus:l.value},null,8,["placeholder","placeholder-class","placeholder-style","modelValue","class","disabled","maxlength","focus"])):y("",!0),n.value?(f(),p(X,{key:3,"custom-class":"wd-search__clear wd-search__clear-icon",name:"error-fill",onClick:A})):y("",!0)]),_:1})]),_:3}),e.hideCancel?y("",!0):b(e.$slots,"suffix",{key:0},()=>[L(a,{class:"wd-search__cancel",onClick:P},{default:m(()=>[J(K(e.cancelTxt||D(s)("cancel")),1)]),_:1})],!0)]),_:3},8,["class","style"])}}}),[["__scopeId","data-v-7650d631"]]),ri=r({__name:"paging-search",emits:["search"],setup(t,{emit:i}){const a=i,o=e(""),s=e=>{a("search",{keyword:e})};return(e,t)=>{const i=H(W("wd-search"),li);return f(),p(i,{modelValue:D(o),"onUpdate:modelValue":t[0]||(t[0]=e=>Te(o)?o.value=e:null),"placeholder-left":"","hide-cancel":"",placeholder:"请输入搜索关键词","custom-class":"!px-2.5","custom-input-class":"!h-[68rpx]",onSearch:s},null,8,["modelValue"])}}}),ni=r({__name:"index",setup(t){const i=e([]),a=e(""),o=e(0),s=e(0),l=({index:e})=>{s.value=e},r=e=>{const t=e.detail.current;s.value=t,o.value=t};return we(async()=>{i.value=await Ce.category()}),(e,t)=>{const n=T,h=H(W("wd-tab"),Ie),d=H(W("wd-tabs"),ze),c=Re,u=be,g=H(W("z-paging-swiper"),qe),y=me("global-ku-root");return f(),p(y,null,{default:m(()=>[L(g,null,{top:m(()=>[L(n,{class:"border-b border-br-thinned"},{default:m(()=>[L(ri)]),_:1}),L(d,{modelValue:D(o),"onUpdate:modelValue":t[0]||(t[0]=e=>Te(o)?o.value=e:null),slidable:"always",color:"var(--color-primary)","inactive-color":"var(--text-color-regular)",onChange:l},{default:m(()=>[(f(!0),O(j,null,U(D(i),e=>(f(),p(h,{key:e.id,title:e.name},null,8,["title"]))),128))]),_:1},8,["modelValue"])]),default:m(()=>[L(u,{current:D(s),style:{height:"100%"},onAnimationfinish:r},{default:m(()=>[(f(!0),O(j,null,U(D(i),(e,t)=>(f(),p(c,{key:t},{default:m(()=>[L(si,{cid:e.id,keyword:D(a),"tab-index":D(o),"swiper-index":t},null,8,["cid","keyword","tab-index","swiper-index"])]),_:2},1024))),128))]),_:1},8,["current"])]),_:1})]),_:1})}}});export{ni as default};
